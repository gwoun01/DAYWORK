{"version":3,"file":"workspace.bundle.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,EAAE;AAChB;AACA,cAAc,cAAc,GAAG,cAAc,GAAG,cAAc;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gBAAgB,GAAG,uBAAuB,GAAG,kBAAkB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA,cAAc,gBAAgB,GAAG,uBAAuB,GAAG,kBAAkB;AAC7E;AACA;AACA;AACA,6BAA6B;AAC7B,4BAA4B;AAC5B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,EAAE,IAAI,EAAE,IAAI,EAAE;AACvD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,UAAU;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,SAAS;AAC5C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,cAAc;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA,8BAA8B,oCAAoC;AAClE;AACA;AACA,iEAAiE,EAAE;AACnE;AACA;AACA,qDAAqD,gBAAgB;AACrE,qDAAqD,MAAM;AAC3D,qDAAqD,UAAU;AAC/D,mDAAmD,KAAK;AACxD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,mCAAmC,SAAS,qCAAqC,KAAK,SAAS,MAAM;AACrG;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,SAAS,gCAAgC,wBAAwB;AACpG;AACA,6CAA6C,IAAI;AACjD;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,IAAI;AACjD;AACA;AACA;AACA;AACA;AACA,6CAA6C,IAAI;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,IAAI;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,cAAc,IAAI,WAAW;AACnG;AACA;AACA;AACA,qDAAqD,QAAQ;AAC7D,mEAAmE,wBAAwB;AAC3F,qDAAqD,yBAAyB;AAC9E,qDAAqD,kBAAkB;AACvE,yCAAyC,KAAK;AAC9C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,SAAS,mCAAmC,wBAAwB;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,QAAQ;AAC3D,iEAAiE,mBAAmB;AACpF,mDAAmD,SAAS;AAC5D,mDAAmD,OAAO;AAC1D,mDAAmD,OAAO;AAC1D,mDAAmD,YAAY;AAC/D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,SAAS,4BAA4B,kBAAkB;AAC5E,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;;;ACnfA;AACA;AACA;AACA;AACA,+CAA+C,GAAG;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gBAAgB,GAAG,0CAA0C,GAAG,qCAAqC;AACnH;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA,uBAAuB,aAAa,IAAI,aAAa,IAAI,MAAM;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,wBAAwB;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,cAAc,YAAY,YAAY;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,8BAA8B,IAAI,2BAA2B;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,2CAA2C,SAAS,qBAAqB,gCAAgC;AACzG;AACA,+BAA+B,oCAAoC;AACnE;AACA,2CAA2C,mBAAmB;AAC9D,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,OAAO;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,2CAA2C,SAAS,qBAAqB,gCAAgC;AACzG;AACA,+BAA+B,oCAAoC;AACnE;AACA,2CAA2C,mBAAmB;AAC9D,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,OAAO;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF;AACjF,iFAAiF;AACjF;AACA,0CAA0C,kCAAkC,IAAI,+BAA+B;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE;AACtE,sEAAsE;AACtE,mEAAmE,iBAAiB,IAAI,kBAAkB;AAC1G;AACA;AACA,4DAA4D;AAC5D,oDAAoD;AACpD,mDAAmD;AACnD,mDAAmD;AACnD,mDAAmD;AACnD,sCAAsC;AACtC,oDAAoD;AACpD,qGAAqG;AACrG,uDAAuD;AACvD,mDAAmD;AACnD,oDAAoD;AACpD,iGAAiG;AACjG;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE;AACtE;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA,sCAAsC,kCAAkC,UAAU,iCAAiC,SAAS,qBAAqB;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,MAAM,SAAS,QAAQ,SAAS,SAAS,SAAS,SAAS;AACzF;AACA;AACA;AACA;;;;;;;;;;;;;;;AC1VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,SAAS;AACpD;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,UAAU;AAC3E;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,SAAS,eAAe,wBAAwB;AAC3F;AACA,gDAAgD,WAAW;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,EAAE,GAAG,EAAE;AACvD;AACA;AACA;AACA,oCAAoC,QAAQ;AAC5C,oCAAoC,OAAO;AAC3C,oCAAoC,KAAK;AACzC;AACA,oCAAoC,cAAc;AAClD,oCAAoC,qBAAqB;AACzD,gDAAgD,SAAS;AACzD;AACA,8GAA8G,KAAK;AACnH;AACA;AACA,0GAA0G,KAAK;AAC/G;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,SAAS,aAAa,GAAG,KAAK,wBAAwB;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,SAAS,aAAa,GAAG;AACxE;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,SAAS;AACxD;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,SAAS,aAAa,GAAG;AACxE;AACA,mCAAmC,oCAAoC;AACvE;AACA,qBAAqB;AACrB,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;;;ACxiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gBAAgB,GAAG,uBAAuB,GAAG,kBAAkB;AAC7E;AACA;AACA,cAAc,gBAAgB,GAAG,uBAAuB;AACxD;AACA;AACA;AACA,cAAc,EAAE;AAChB;AACA,cAAc,cAAc,GAAG,cAAc,GAAG,cAAc;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,4BAA4B;AAC5B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,aAAa,GAAG,0BAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,sCAAsC;AACtC;AACA;AACA,4EAA4E,KAAK;AACjF,4EAA4E,UAAU;AACtF,0FAA0F,OAAO;AACjG;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,cAAc;AACvC;AACA;AACA;AACA;AACA,qDAAqD,gBAAgB;AACrE,qDAAqD,MAAM;AAC3D,qDAAqD,UAAU;AAC/D,mEAAmE,SAAS;AAC5E;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA,6BAA6B;AAC7B,kCAAkC;AAClC,uCAAuC;AACvC;AACA;AACA,uCAAuC,SAAS,mCAAmC,wBAAwB;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,6BAA6B,EAAE,GAAG,YAAY;AAC9C;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA,sCAAsC,YAAY;AAClD;AACA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA,sCAAsC,cAAc;AACpD;AACA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA,2FAA2F,YAAY;AACvG;AACA,YAAY;AACZ;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6FAA6F,cAAc;AAC3G;AACA,YAAY;AACZ;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,UAAU;AAC5C;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,iBAAiB;AAC3C,0BAA0B,EAAE,GAAG,YAAY,GAAG,UAAU;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,QAAQ;AACzE,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS,eAAe,wBAAwB;AACvF;AACA;AACA;AACA;AACA,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS,eAAe,wBAAwB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,sDAAsD,KAAK,eAAe,mBAAmB,IAAI,mBAAmB;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS,mCAAmC,wBAAwB;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,QAAQ;AACnE,2DAA2D,yBAAyB;AACpF,2DAA2D,0BAA0B;AACrF,2DAA2D,2BAA2B,IAAI,wBAAwB;AAClH,+CAA+C,0BAA0B;AACzE;AACA,iDAAiD,MAAM;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS;AAChD;AACA,2BAA2B,oCAAoC;AAC/D,uCAAuC,0DAA0D;AACjG,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uCAAuC,SAAS,qCAAqC,KAAK,SAAS,MAAM;AACzG;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B,0BAA0B,eAAe;AACzC,gBAAgB,YAAY,GAAG,WAAW;AAC1C,iBAAiB,WAAW,GAAG,UAAU;AACzC,yBAAyB,mBAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS,gCAAgC,wBAAwB;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,gDAAgD,EAAE,IAAI,EAAE,IAAI,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS;AAChD;AACA,2BAA2B,oCAAoC;AAC/D;AACA,aAAa;AACb,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS,mCAAmC,wBAAwB;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,UAAU;AAC3E;AACA;AACA;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA,qBAAqB,kCAAkC;AACvD;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,SAAS,iCAAiC,GAAG;AACxF;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,SAAS;AACxD;AACA,mCAAmC,oCAAoC;AACvE;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,+CAA+C,SAAS,iCAAiC,OAAO;AAChG;AACA,mCAAmC,oCAAoC;AACvE;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS,iCAAiC,GAAG;AACpF;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;;;;ACjnCA;AAC8C;AAC9C;AACA;AACA;AACA,iDAAiD,GAAG;AACpD;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,uDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA,4DAA4D,WAAW;AACvE,sBAAsB,uDAAS;AAC/B;AACA;AACA,sDAAsD,WAAW;AACjE;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,uDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,4BAA4B;AAC5E,kBAAkB,uDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,oCAAoC;AACnF;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;;;;ACrKA;AAC8C;AAC9C;AACA;AACA;AACA,iDAAiD,GAAG;AACpD;AACA;AACA;AACA,0DAA0D,KAAK;AAC/D;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,uDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,kBAAkB,uDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,kBAAkB,uDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,kBAAkB,uDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,kBAAkB,uDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,4DAA4D,YAAY,EAAE,KAAK;AAC/E,sBAAsB,uDAAS;AAC/B;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kBAAkB,uDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,4BAA4B;AACjF,kBAAkB,uDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;;;ACtMA;AACA;AACA;AACA;AACA,+CAA+C,GAAG;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,EAAE,GAAG,EAAE,GAAG,IAAI;AAC5B;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,EAAE,GAAG,EAAE,GAAG,EAAE;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA,uCAAuC,SAAS,uCAAuC,cAAc,KAAK,eAAe;AACzH;AACA;AACA,wCAAwC,YAAY,IAAI,KAAK;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,+CAA+C;AACvF;AACA;AACA,wCAAwC,2CAA2C;AACnF;AACA;AACA,wCAAwC,4CAA4C;AACpF;AACA;AACA;AACA;AACA,qDAAqD,QAAQ;AAC7D,qDAAqD,KAAK;AAC1D,qDAAqD,KAAK;AAC1D,qDAAqD,QAAQ,IAAI,OAAO;AACxE,qDAAqD,WAAW,IAAI,QAAQ;AAC5E,qDAAqD,QAAQ;AAC7D,qDAAqD,UAAU;AAC/D;AACA;AACA,aAAa;AACb,yCAAyC,YAAY;AACrD;AACA;AACA;AACA,8CAA8C,4BAA4B;AAC1E;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;;;ACnKO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB,gFAAgF;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;;;;;;UCrGA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;;;;;;ACNA;AACqE;AACV;AACJ;AACQ;AACa;AACI;AACN;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,sEAAsE,GAAG;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,IAAI,kFAAuB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,oEAAmB;AACzC;AACA;AACA;AACA;AACA,sBAAsB,wEAAqB;AAC3C;AACA;AACA;AACA;AACA,sBAAsB,4EAAuB;AAC7C;AACA;AACA;AACA;AACA,sBAAsB,yFAA6B;AACnD,sBAAsB,6FAA+B;AACrD;AACA;AACA;AACA;AACA,sBAAsB,uFAA4B;AAClD;AACA;AACA;AACA;AACA,4EAA4E;AAC5E;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC","sources":["webpack://innomax/./TypeScript/workspace/01_dashboard-trip-status.ts","webpack://innomax/./TypeScript/workspace/02_trip-approval.ts","webpack://innomax/./TypeScript/workspace/04_user-manage.ts","webpack://innomax/./TypeScript/workspace/05_business-master.ts","webpack://innomax/./TypeScript/workspace/08_domestic-trip-register.ts","webpack://innomax/./TypeScript/workspace/09_domestic-trip-settlement.ts","webpack://innomax/./TypeScript/workspace/10_domestic-trip-history.ts","webpack://innomax/./TypeScript/workspace/utils/ModalUtil.ts","webpack://innomax/webpack/bootstrap","webpack://innomax/webpack/runtime/define property getters","webpack://innomax/webpack/runtime/hasOwnProperty shorthand","webpack://innomax/webpack/runtime/make namespace object","webpack://innomax/./TypeScript/workspace/00_workspace.ts"],"sourcesContent":["// TypeScript/workspace/01_dashboard-trip-status.ts\nfunction pad2(n) {\n    return String(n).padStart(2, \"0\");\n}\nfunction parseLocdateToYmd(loc) {\n    // 20260101 -> 2026-01-01\n    const s = String(loc ?? \"\");\n    if (!/^\\d{8}$/.test(s))\n        return \"\";\n    return `${s.slice(0, 4)}-${s.slice(4, 6)}-${s.slice(6, 8)}`;\n}\nfunction getDowKr(dateStr) {\n    const d = new Date(dateStr + \"T00:00:00\");\n    const map = [\"ì¼\", \"ì›”\", \"í™”\", \"ìˆ˜\", \"ëª©\", \"ê¸ˆ\", \"í† \"];\n    return map[d.getDay()] ?? \"\";\n}\nfunction isWeekend(dateStr) {\n    const d = new Date(dateStr + \"T00:00:00\");\n    const day = d.getDay();\n    return day === 0 || day === 6;\n}\nfunction ymd(d) {\n    return `${d.getFullYear()}-${pad2(d.getMonth() + 1)}-${pad2(d.getDate())}`;\n}\nfunction getAllDaysOfMonth(base) {\n    const y = base.getFullYear();\n    const m = base.getMonth();\n    const last = new Date(y, m + 1, 0).getDate();\n    const days = [];\n    for (let i = 1; i <= last; i++)\n        days.push(new Date(y, m, i));\n    return days;\n}\nfunction todayYmd() {\n    const d = new Date();\n    return `${d.getFullYear()}-${pad2(d.getMonth() + 1)}-${pad2(d.getDate())}`;\n}\nfunction escapeHtml(s) {\n    return String(s ?? \"\")\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\");\n}\nfunction vacTypeLabel(t) {\n    if (t === \"annual\")\n        return \"ì—°ì°¨\";\n    if (t === \"half\")\n        return \"ë°˜ì°¨\";\n    return \"ê¸°íƒ€\";\n}\n/** YYYY-MM-DD ì²´í¬ */\nfunction isYmdStr(s) {\n    return typeof s === \"string\" && /^\\d{4}-\\d{2}-\\d{2}$/.test(s);\n}\n/**\n * âœ… íœ´ê°€ ëª©ë¡ì„ \"ì›” ê¸°ì¤€ ë‚ ì§œë³„ ì´ë¦„ ë°°ì—´\"ë¡œ ë³€í™˜\n *   { \"2026-01-03\": [\"í™ê¸¸ë™\",\"ê¹€ì² ìˆ˜\"], ... }\n */\nfunction buildVacationMapForMonth(items, base) {\n    const y = base.getFullYear();\n    const m = base.getMonth(); // 0~11\n    const monthStart = new Date(y, m, 1);\n    const monthEnd = new Date(y, m + 1, 0);\n    const map = {};\n    for (const v of items) {\n        if (!v?.user_name)\n            continue;\n        if (!isYmdStr(v.start_date) || !isYmdStr(v.end_date))\n            continue;\n        const s = new Date(v.start_date + \"T00:00:00\");\n        const e = new Date(v.end_date + \"T00:00:00\");\n        // ì›” ë²”ìœ„ë¡œ í´ë¨í”„\n        const start = s < monthStart ? monthStart : s;\n        const end = e > monthEnd ? monthEnd : e;\n        if (start > end)\n            continue;\n        for (let d = new Date(start); d <= end; d.setDate(d.getDate() + 1)) {\n            const key = ymd(d);\n            map[key] = map[key] ?? [];\n            if (!map[key].includes(v.user_name))\n                map[key].push(v.user_name);\n        }\n    }\n    return map;\n}\n/** íœ´ê°€ ì „ì²´ ëª©ë¡ ê°€ì ¸ì˜¤ê¸° */\nasync function fetchVacations(API_BASE) {\n    try {\n        const res = await fetch(`${API_BASE}/api/business-master/vacations`, {\n            credentials: \"include\",\n        });\n        const json = await res.json().catch(() => null);\n        if (!res.ok || json?.ok !== true)\n            return [];\n        return Array.isArray(json.items) ? json.items : [];\n    }\n    catch {\n        return [];\n    }\n}\n/**\n * âœ… ëŒ€ì‹œë³´ë“œì˜ íœ´ì¼/ë‹¹ì§ ìº˜ë¦°ë” tbody(#dutyHolidayBody) ë Œë”\n * - âœ… ë‹¹ì§ + íœ´ê°€ ê°™ì´ í‘œì‹œ (í•œ ì¹¸ì— ì—¬ëŸ¬ ì¤„)\n */\nfunction renderDashboardHolidayDuty(holidays, assignsMap, vacMap) {\n    const tbody = document.getElementById(\"dutyHolidayBody\");\n    if (!tbody)\n        return;\n    if (!holidays.length) {\n        tbody.innerHTML = `\n      <tr>\n        <td class=\"px-2 py-2 text-center text-gray-400\" colspan=\"4\">í‘œì‹œí•  íœ´ì¼ì´ ì—†ìŠµë‹ˆë‹¤.</td>\n      </tr>\n    `;\n        return;\n    }\n    tbody.innerHTML = holidays\n        .map((h) => {\n        const typeLabel = h.type === \"ê³µíœ´ì¼\"\n            ? h.holidayName\n                ? `ê³µíœ´ì¼(${h.holidayName})`\n                : \"ê³µíœ´ì¼\"\n            : \"ì£¼ë§\";\n        const dutyName = assignsMap[h.date] || \"\";\n        const vacNames = vacMap[h.date] ?? [];\n        const lines = [];\n        if (dutyName)\n            lines.push(`ë‹¹ì§: ${escapeHtml(dutyName)}`);\n        if (vacNames.length)\n            lines.push(`íœ´ê°€: ${vacNames.map(escapeHtml).join(\", \")}`);\n        const cell = lines.length === 0\n            ? `<span class=\"text-gray-400\">-</span>`\n            : lines.map((t) => `<div class=\"whitespace-nowrap\">${t}</div>`).join(\"\");\n        return `\n        <tr>\n          <td class=\"border px-2 py-1 text-center\">${h.date.slice(5)}</td>\n          <td class=\"border px-2 py-1 text-center\">${h.dow}</td>\n          <td class=\"border px-2 py-1 text-center\">${typeLabel}</td>\n          <td class=\"border px-2 py-1 text-left\">${cell}</td>\n        </tr>\n      `;\n    })\n        .join(\"\");\n}\n/**\n * âœ… íœ´ì¼ ëª©ë¡(ì£¼ë§ + ê³µíœ´ì¼ API) ê°€ì ¸ì˜¤ê¸°\n * - ê³µíœ´ì¼ API ì‹¤íŒ¨í•´ë„ ì£¼ë§ë§Œìœ¼ë¡œ ì§„í–‰\n */\nasync function fetchHolidayItemsForMonth(API_BASE, base) {\n    const year = String(base.getFullYear());\n    const month = pad2(base.getMonth() + 1);\n    // 1) ì£¼ë§\n    const days = getAllDaysOfMonth(base);\n    const weekend = days\n        .map((d) => ymd(d))\n        .filter((ds) => isWeekend(ds))\n        .map((ds) => ({\n        date: ds,\n        dow: getDowKr(ds),\n        type: \"ì£¼ë§\",\n    }));\n    // 2) ê³µíœ´ì¼ API\n    let apiHolidays = [];\n    try {\n        const res = await fetch(`${API_BASE}/api/business-master/holidays?year=${year}&month=${month}`, {\n            credentials: \"include\",\n        });\n        const json = await res.json().catch(() => null);\n        if (res.ok && json?.ok === true) {\n            const list = Array.isArray(json.holidays) ? json.holidays : [];\n            apiHolidays = list\n                .filter((h) => h && h.date)\n                .map((h) => {\n                const ds = parseLocdateToYmd(String(h.date));\n                if (!ds)\n                    return null;\n                return {\n                    date: ds,\n                    dow: getDowKr(ds),\n                    type: \"ê³µíœ´ì¼\",\n                    holidayName: String(h.name ?? \"\").trim() || undefined,\n                };\n            })\n                .filter(Boolean);\n        }\n    }\n    catch (e) {\n        console.warn(\"[ëŒ€ì‹œë³´ë“œ ë‹¹ì§] ê³µíœ´ì¼ API ì‹¤íŒ¨(ì£¼ë§ë§Œ í‘œì‹œ):\", e);\n    }\n    // 3) í•©ì¹˜ê¸°(ì¤‘ë³µ ì œê±°): ê³µíœ´ì¼ ìš°ì„ \n    const map = new Map();\n    weekend.forEach((w) => map.set(w.date, w));\n    apiHolidays.forEach((h) => map.set(h.date, h));\n    return Array.from(map.values()).sort((a, b) => a.date.localeCompare(b.date));\n}\n/**\n * âœ… F5 ìƒˆë¡œê³ ì¹¨ ì‹œ, ì„œë²„ configì—ì„œ ë§ˆì§€ë§‰ ìƒì„± ê²°ê³¼(lastAssigns)ë¥¼ ì½ì–´\n * ëŒ€ì‹œë³´ë“œ ìº˜ë¦°ë” í‘œ(#dutyHolidayBody)ë¥¼ ìë™ ë³µì›\n * - âœ… íœ´ê°€ë„ ê°™ì´ í•©ì³ì„œ í‘œì‹œ\n */\nasync function restoreDashboardDutyFromConfig(API_BASE) {\n    const tbody = document.getElementById(\"dutyHolidayBody\");\n    if (!tbody)\n        return;\n    tbody.innerHTML = `\n    <tr>\n      <td class=\"px-2 py-2 text-center text-gray-400\" colspan=\"4\">ë‹¹ì§ ì¼ì • ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</td>\n    </tr>\n  `;\n    try {\n        const res = await fetch(`${API_BASE}/api/business-master/config`, { credentials: \"include\" });\n        if (!res.ok) {\n            renderDashboardHolidayDuty([], {}, {});\n            return;\n        }\n        const data = await res.json().catch(() => ({}));\n        const raw = String(data?.duty_members_text ?? \"\");\n        let lastYm = \"\";\n        let lastAssigns = [];\n        try {\n            const parsed = raw ? JSON.parse(raw) : null;\n            lastYm = String(parsed?.lastYm ?? \"\");\n            lastAssigns = Array.isArray(parsed?.lastAssigns) ? parsed.lastAssigns : [];\n        }\n        catch { }\n        if (!lastYm || !lastAssigns.length) {\n            renderDashboardHolidayDuty([], {}, {});\n            return;\n        }\n        const y = Number(lastYm.slice(0, 4));\n        const m = Number(lastYm.slice(5, 7));\n        if (!Number.isFinite(y) || !Number.isFinite(m)) {\n            renderDashboardHolidayDuty([], {}, {});\n            return;\n        }\n        const base = new Date(y, m - 1, 1);\n        const holidays = await fetchHolidayItemsForMonth(API_BASE, base);\n        const assignsMap = {};\n        for (const a of lastAssigns)\n            assignsMap[a.date] = a.name;\n        // âœ… íœ´ê°€ë„ ê°™ì´ ê°€ì ¸ì™€ì„œ ì›” mapìœ¼ë¡œ ë³€í™˜\n        const vacations = await fetchVacations(API_BASE);\n        const vacMap = buildVacationMapForMonth(vacations, base);\n        renderDashboardHolidayDuty(holidays, assignsMap, vacMap);\n    }\n    catch (e) {\n        console.error(\"[ëŒ€ì‹œë³´ë“œ ë‹¹ì§] ë³µì› ì‹¤íŒ¨:\", e);\n        renderDashboardHolidayDuty([], {}, {});\n    }\n}\n/* ============================================================\n * âœ… âœ… âœ… íœ´ê°€ìí˜„í™©(ëŒ€ì‹œë³´ë“œ)\n * - âœ… ë„¤ HTML ê¸°ì¤€ìœ¼ë¡œ id ë§ì¶¤!\n *   tbody: #vacationStatusTableBody\n *   KPI:   #kpiVacationToday\n *   ê²€ìƒ‰:  #vacationSearchInput\n *   í•„í„°:  #vacationFilterType\n *   ë²„íŠ¼:  #btnVacationReload\n *   ë¼ë²¨:  #vacationStatusDateLabel\n *   ì´ë²¤íŠ¸: vacation-status-refresh\n * ============================================================ */\nfunction renderDashboardVacation(items, baseDateYmd) {\n    const kpiEl = document.getElementById(\"kpiVacationToday\");\n    const tbody = document.getElementById(\"vacationStatusTableBody\");\n    if (!tbody)\n        return;\n    const searchInput = document.getElementById(\"vacationSearchInput\");\n    const filterSelect = document.getElementById(\"vacationFilterType\");\n    // 1) ì˜¤ëŠ˜ í¬í•¨ë˜ëŠ” íœ´ê°€ë§Œ\n    let todayItems = items.filter((v) => {\n        const s = String(v.start_date || \"\");\n        const e = String(v.end_date || \"\");\n        return s && e && s <= baseDateYmd && baseDateYmd <= e;\n    });\n    // 2) í•„í„°(ì—°ì°¨/ë°˜ì°¨/ê¸°íƒ€)\n    const filter = filterSelect?.value ?? \"all\";\n    if (filter !== \"all\") {\n        todayItems = todayItems.filter((v) => v.vac_type === filter);\n    }\n    // 3) ê²€ìƒ‰(ì´ë¦„/ë©”ëª¨)\n    const kw = (searchInput?.value ?? \"\").trim().toLowerCase();\n    if (kw) {\n        todayItems = todayItems.filter((v) => {\n            const name = (v.user_name ?? \"\").toLowerCase();\n            const note = (v.note ?? \"\").toLowerCase();\n            return name.includes(kw) || note.includes(kw);\n        });\n    }\n    // KPI\n    if (kpiEl)\n        kpiEl.textContent = String(todayItems.length);\n    if (todayItems.length === 0) {\n        tbody.innerHTML = `\n      <tr>\n        <td class=\"px-2 py-2 text-center text-gray-400\" colspan=\"5\">ì˜¤ëŠ˜ íœ´ê°€ìê°€ ì—†ìŠµë‹ˆë‹¤.</td>\n      </tr>\n    `;\n        return;\n    }\n    tbody.innerHTML = todayItems\n        .map((v, idx) => {\n        const range = v.start_date === v.end_date ? v.start_date : `${v.start_date} ~ ${v.end_date}`;\n        const note = v.note ? escapeHtml(v.note) : \"\";\n        return `\n        <tr class=\"text-xs text-gray-700\">\n          <td class=\"border px-2 py-2 text-center\">${idx + 1}</td>\n          <td class=\"border px-2 py-2 text-center font-semibold\">${escapeHtml(v.user_name)}</td>\n          <td class=\"border px-2 py-2 text-center\">${vacTypeLabel(v.vac_type)}</td>\n          <td class=\"border px-2 py-2 text-center\">${escapeHtml(range)}</td>\n          <td class=\"border px-2 py-2\">${note}</td>\n        </tr>\n      `;\n    })\n        .join(\"\");\n}\nasync function loadDashboardVacation(API_BASE, dateYmd) {\n    const tbody = document.getElementById(\"vacationStatusTableBody\");\n    if (!tbody)\n        return; // íœ´ê°€ì ì˜ì—­ ì—†ëŠ” í™”ë©´ì´ë©´ ë¬´ì‹œ\n    const dateLabel = document.getElementById(\"vacationStatusDateLabel\");\n    if (dateLabel)\n        dateLabel.textContent = \"ì˜¤ëŠ˜\";\n    tbody.innerHTML = `\n    <tr>\n      <td class=\"px-2 py-2 text-center text-gray-400\" colspan=\"5\">íœ´ê°€ì í˜„í™© ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</td>\n    </tr>\n  `;\n    try {\n        const res = await fetch(`${API_BASE}/api/business-master/vacations`, { credentials: \"include\" });\n        const json = await res.json().catch(() => null);\n        if (!res.ok || json?.ok !== true) {\n            tbody.innerHTML = `\n        <tr>\n          <td class=\"px-2 py-2 text-center text-red-500\" colspan=\"5\">íœ´ê°€ì í˜„í™© ì¡°íšŒ ì‹¤íŒ¨</td>\n        </tr>\n      `;\n            const kpiEl = document.getElementById(\"kpiVacationToday\");\n            if (kpiEl)\n                kpiEl.textContent = \"0\";\n            return;\n        }\n        const items = Array.isArray(json.items) ? json.items : [];\n        renderDashboardVacation(items, dateYmd);\n    }\n    catch (e) {\n        console.error(\"[ëŒ€ì‹œë³´ë“œ íœ´ê°€] ë¡œë”© ì‹¤íŒ¨:\", e);\n        tbody.innerHTML = `\n      <tr>\n        <td class=\"px-2 py-2 text-center text-red-500\" colspan=\"5\">íœ´ê°€ì í˜„í™© ë¡œë”© ì¤‘ ì˜¤ë¥˜</td>\n      </tr>\n    `;\n        const kpiEl = document.getElementById(\"kpiVacationToday\");\n        if (kpiEl)\n            kpiEl.textContent = \"0\";\n    }\n}\n/**\n * ğŸ“Œ ëŒ€ì‹œë³´ë“œ - ì¶œì¥ì í˜„í™© + ì˜¤ëŠ˜ ì¶œì¥ ì¸ì›\n */\nexport function initDashboardTripStatus(API_BASE) {\n    const kpiTripEl = document.getElementById(\"kpiTripToday\");\n    const tbody = document.getElementById(\"tripStatusTbody\");\n    const dateLabel = document.getElementById(\"tripStatusDateLabel\");\n    const searchInput = document.getElementById(\"tripSearchInput\");\n    const filterSelect = document.getElementById(\"tripFilterType\");\n    const reloadBtn = document.getElementById(\"btnTripReload\");\n    // ğŸ”¹ í•„ìˆ˜ DOM ì—†ìœ¼ë©´ ê·¸ëƒ¥ ì¢…ë£Œ\n    if (!kpiTripEl || !tbody) {\n        console.warn(\"[ëŒ€ì‹œë³´ë“œ] ì¶œì¥ì í˜„í™©ìš© ìš”ì†Œë¥¼ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\");\n        return;\n    }\n    const tbodyEl = tbody;\n    let lastItems = [];\n    let currentDate; // YYYY-MM-DD (ì—†ìœ¼ë©´ ì˜¤ëŠ˜)\n    function renderTable() {\n        const keyword = (searchInput?.value ?? \"\").trim().toLowerCase();\n        const filter = filterSelect?.value ?? \"all\";\n        let items = lastItems.slice();\n        if (filter === \"overseas\" || filter === \"inhouse\") {\n            items = [];\n        }\n        if (keyword) {\n            items = items.filter((it) => {\n                const name = it.req_name?.toLowerCase() ?? \"\";\n                const dest = it.destination?.toLowerCase() ?? \"\";\n                const place = it.depart_place?.toLowerCase() ?? \"\";\n                return name.includes(keyword) || dest.includes(keyword) || place.includes(keyword);\n            });\n        }\n        if (items.length === 0) {\n            tbodyEl.innerHTML = `\n        <tr>\n          <td colspan=\"6\" class=\"border px-2 py-3 text-center text-xs text-gray-400\">\n            ë“±ë¡ëœ ì¶œì¥ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\n          </td>\n        </tr>\n      `;\n            return;\n        }\n        tbodyEl.innerHTML = \"\";\n        items.forEach((it, idx) => {\n            const tr = document.createElement(\"tr\");\n            tr.className = \"border-t text-xs text-gray-700\";\n            const customer = it.destination || \"-\";\n            const depart = it.depart_time || \"-\";\n            const arrive = it.arrive_time || \"-\";\n            const statusLabel = it.status === \"SETTLED\"\n                ? `<span class=\"px-2 py-[2px] rounded-full bg-emerald-50 text-emerald-700 text-[10px] font-bold\">ì •ì‚°ì™„ë£Œ</span>`\n                : `<span class=\"px-2 py-[2px] rounded-full bg-indigo-50 text-indigo-700 text-[10px] font-bold\">ì¶œì¥ì¤‘</span>`;\n            tr.innerHTML = `\n        <td class=\"border px-2 py-2 text-center\">${idx + 1}</td>\n        <td class=\"border px-2 py-2 text-center font-semibold\">${it.req_name || \"-\"}</td>\n        <td class=\"border px-2 py-2 text-center\">${customer}</td>\n        <td class=\"border px-2 py-2 text-center\">${depart}</td>\n        <td class=\"border px-2 py-2 text-center\">${arrive}</td>\n        <td class=\"border px-2 py-2 text-center\">${statusLabel}</td>\n      `;\n            tbodyEl.appendChild(tr);\n        });\n    }\n    async function loadTripStatus(date) {\n        currentDate = date;\n        if (dateLabel) {\n            dateLabel.textContent = date ?? \"ì˜¤ëŠ˜\";\n        }\n        tbodyEl.innerHTML = `\n      <tr>\n        <td colspan=\"6\" class=\"border px-2 py-3 text-center text-xs text-gray-400\">\n          ë°ì´í„° ë¡œë”© ì¤‘...\n        </td>\n      </tr>\n    `;\n        try {\n            const params = new URLSearchParams();\n            if (date)\n                params.set(\"date\", date);\n            const url = params.toString().length > 0\n                ? `${API_BASE}/api/business-trip/status?${params.toString()}`\n                : `${API_BASE}/api/business-trip/status`;\n            const res = await fetch(url);\n            if (!res.ok) {\n                console.error(\"[ëŒ€ì‹œë³´ë“œ] /status ì‘ë‹µ ì˜¤ë¥˜:\", res.status);\n                tbodyEl.innerHTML = `\n          <tr>\n            <td colspan=\"6\" class=\"border px-2 py-3 text-center text-xs text-red-500\">\n              ì„œë²„ ì˜¤ë¥˜: HTTP ${res.status}\n            </td>\n          </tr>\n        `;\n                return;\n            }\n            const json = await res.json().catch(() => null);\n            const rows = json?.data ?? [];\n            lastItems = rows;\n            kpiTripEl.textContent = String(rows.length);\n            renderTable();\n        }\n        catch (err) {\n            console.error(\"[ëŒ€ì‹œë³´ë“œ] ì¶œì¥ì í˜„í™© ë¡œë”© ì‹¤íŒ¨:\", err);\n            tbodyEl.innerHTML = `\n        <tr>\n          <td colspan=\"6\" class=\"border px-2 py-3 text-center text-xs text-red-500\">\n            ë°ì´í„° ë¡œë”© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n          </td>\n        </tr>\n      `;\n        }\n    }\n    // -----------------------------\n    // ğŸ”¹ ì´ë²¤íŠ¸ ë°”ì¸ë”© (ì¶œì¥)\n    // -----------------------------\n    searchInput?.addEventListener(\"input\", () => renderTable());\n    filterSelect?.addEventListener(\"change\", () => renderTable());\n    reloadBtn?.addEventListener(\"click\", () => loadTripStatus(currentDate));\n    window.addEventListener(\"trip-status-refresh\", () => {\n        loadTripStatus(currentDate);\n    });\n    // âœ… ìµœì´ˆ í•œ ë²ˆ ë¡œë”© (ì˜¤ëŠ˜ ê¸°ì¤€)\n    loadTripStatus();\n    // âœ… ëŒ€ì‹œë³´ë“œ ìº˜ë¦°ë”(íœ´ì¼/ë‹¹ì§) + íœ´ê°€ í•¨ê»˜ í‘œì‹œ\n    restoreDashboardDutyFromConfig(API_BASE);\n    // -----------------------------\n    // ğŸ”¹ ì´ë²¤íŠ¸ ë°”ì¸ë”© (íœ´ê°€)\n    // -----------------------------\n    const vacationSearchInput = document.getElementById(\"vacationSearchInput\");\n    const vacationFilterType = document.getElementById(\"vacationFilterType\");\n    const btnVacationReload = document.getElementById(\"btnVacationReload\");\n    const reloadVacation = () => loadDashboardVacation(API_BASE, todayYmd());\n    vacationSearchInput?.addEventListener(\"input\", reloadVacation);\n    vacationFilterType?.addEventListener(\"change\", reloadVacation);\n    btnVacationReload?.addEventListener(\"click\", reloadVacation);\n    // âœ… íœ´ê°€ì ìƒˆë¡œê³ ì¹¨ ì´ë²¤íŠ¸(íœ´ê°€ì ì„¤ì •ì—ì„œ ì €ì¥/ì‚­ì œ í›„)\n    window.addEventListener(\"vacation-status-refresh\", () => {\n        reloadVacation();\n        // íœ´ê°€ê°€ ë°”ë€Œë©´ ìº˜ë¦°ë”ë„ ê°™ì´ ë‹¤ì‹œ ê·¸ë¦¬ê¸°(í‘œ ì•ˆì— íœ´ê°€: ì´ë¦„ ë°˜ì˜)\n        restoreDashboardDutyFromConfig(API_BASE);\n    });\n    // âœ… âœ… íœ´ê°€ì í˜„í™© ìµœì´ˆ 1íšŒ ë¡œë”©\n    loadDashboardVacation(API_BASE, todayYmd());\n}\n","// src/TypeScript/workspace/02_trip-approval.ts\nfunction getEl(id) {\n    const el = document.getElementById(id);\n    if (!el)\n        throw new Error(`element not found: #${id}`);\n    return el;\n}\n/** ISO ë‚ ì§œ ë˜ëŠ” ë¬¸ìì—´ â†’ YYYY-MM-DD */\nfunction formatDateLabel(value) {\n    if (!value)\n        return \"\";\n    if (value.length >= 10)\n        return value.slice(0, 10);\n    const d = new Date(value);\n    if (isNaN(d.getTime()))\n        return value;\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, \"0\")}-${String(d.getDate()).padStart(2, \"0\")}`;\n}\n/** íŠ¹ì • ë‚ ì§œê°€ ì†í•œ ì£¼(ì›”~ì¼) êµ¬í•˜ê¸° */\nfunction getWeekRange(dateStr) {\n    const d = new Date(dateStr);\n    if (isNaN(d.getTime())) {\n        return { start: formatDateLabel(dateStr), end: formatDateLabel(dateStr) };\n    }\n    const day = (d.getDay() + 6) % 7; // ì›”=0\n    const monday = new Date(d);\n    monday.setDate(d.getDate() - day);\n    const sunday = new Date(monday);\n    sunday.setDate(monday.getDate() + 6);\n    return {\n        start: monday.toISOString().slice(0, 10),\n        end: sunday.toISOString().slice(0, 10),\n    };\n}\n/** TripRow[] ë¥¼ ì§ì›+ì£¼ê°„ ë‹¨ìœ„ë¡œ ë¬¶ê¸° */\nfunction buildWeeklyGroups(rows) {\n    const map = new Map();\n    for (const row of rows) {\n        const { start, end } = getWeekRange(row.trip_date);\n        const company_part = row.company_part ?? \"-\";\n        const key = `${row.req_name}__${company_part}__${start}`;\n        let group = map.get(key);\n        if (!group) {\n            group = {\n                key,\n                weekStart: start,\n                weekEnd: end,\n                req_name: row.req_name,\n                company_part,\n                rows: [],\n            };\n            map.set(key, group);\n        }\n        group.rows.push(row);\n    }\n    // ë³´ê¸° ì¢‹ê²Œ ì •ë ¬\n    return Array.from(map.values()).sort((a, b) => {\n        if (a.weekStart !== b.weekStart) {\n            return a.weekStart.localeCompare(b.weekStart);\n        }\n        if (a.company_part !== b.company_part) {\n            return a.company_part.localeCompare(b.company_part);\n        }\n        return a.req_name.localeCompare(b.req_name);\n    });\n}\nconst API_BASE = location.hostname === \"gwoun01.github.io\"\n    ? \"https://outwork.sel3.cloudtype.app\"\n    : \"http://127.0.0.1:5050\";\nlet currentGroup = null;\nexport function initTripApprovalPanel(_panelId) {\n    const fromInput = getEl(\"appr_from\");\n    const toInput = getEl(\"appr_to\");\n    const statusSelect = getEl(\"appr_status\");\n    const searchBtn = getEl(\"appr_search\");\n    const resultMsg = getEl(\"appr_result_msg\");\n    const tbody = getEl(\"approve_result_tbody\");\n    // ê¸°ë³¸ ì¡°íšŒ ê¸°ê°„: ì´ë²ˆ ì£¼\n    const today = new Date();\n    const monday = new Date(today);\n    monday.setDate(today.getDate() - ((today.getDay() + 6) % 7));\n    const sunday = new Date(monday);\n    sunday.setDate(monday.getDate() + 6);\n    fromInput.value = monday.toISOString().slice(0, 10);\n    toInput.value = sunday.toISOString().slice(0, 10);\n    // ğŸ” ì¡°íšŒ ë²„íŠ¼\n    searchBtn.addEventListener(\"click\", async () => {\n        const from = fromInput.value;\n        const to = toInput.value;\n        const status = statusSelect.value;\n        if (!from || !to) {\n            alert(\"ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼ì„ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”.\");\n            return;\n        }\n        resultMsg.textContent = \"ì¡°íšŒ ì¤‘ì…ë‹ˆë‹¤...\";\n        tbody.innerHTML = `\n      <tr>\n        <td colspan=\"5\" class=\"border px-2 py-3 text-center text-gray-400\">\n          ì¡°íšŒ ì¤‘...\n        </td>\n      </tr>`;\n        try {\n            const url = new URL(\"/api/business-trip/settlements-range-admin\", API_BASE);\n            url.searchParams.set(\"from\", from);\n            url.searchParams.set(\"to\", to);\n            url.searchParams.set(\"status\", status);\n            const res = await fetch(url.toString(), { credentials: \"include\" });\n            const json = await res.json();\n            if (!json.ok) {\n                resultMsg.textContent = json.message ?? \"ì¡°íšŒ ì‹¤íŒ¨\";\n                tbody.innerHTML = `\n          <tr>\n            <td colspan=\"5\" class=\"border px-2 py-3 text-center text-gray-400\">\n              ì¡°íšŒ ì‹¤íŒ¨: ${json.message ?? \"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜\"}\n            </td>\n          </tr>`;\n                return;\n            }\n            const rows = json.data ?? [];\n            if (rows.length === 0) {\n                resultMsg.textContent = \"í•´ë‹¹ ê¸°ê°„ì— ì¡°íšŒëœ ì¶œì¥ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.\";\n                tbody.innerHTML = `\n          <tr>\n            <td colspan=\"5\" class=\"border px-2 py-3 text-center text-gray-400\">\n              ì¡°íšŒëœ ì¶œì¥ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.\n            </td>\n          </tr>`;\n                return;\n            }\n            const groups = buildWeeklyGroups(rows);\n            resultMsg.textContent = `ì´ ${groups.length}ê°œ ì£¼ê°„ ë¬¶ìŒ / ${rows.length}ê±´ ì¡°íšŒë˜ì—ˆìŠµë‹ˆë‹¤.`;\n            tbody.innerHTML = \"\";\n            groups.forEach((g) => {\n                const tr = document.createElement(\"tr\");\n                // ê¸°ê°„\n                const tdPeriod = document.createElement(\"td\");\n                tdPeriod.className = \"border px-2 py-1 text-center\";\n                tdPeriod.textContent = `${formatDateLabel(g.weekStart)} ~ ${formatDateLabel(g.weekEnd)}`;\n                tr.appendChild(tdPeriod);\n                // ì†Œì†íŒ€\n                const tdTeam = document.createElement(\"td\");\n                tdTeam.className = \"border px-2 py-1 text-center\";\n                tdTeam.textContent = g.company_part;\n                tr.appendChild(tdTeam);\n                // ì´ë¦„\n                const tdName = document.createElement(\"td\");\n                tdName.className = \"border px-2 py-1 text-center\";\n                tdName.textContent = g.req_name;\n                tr.appendChild(tdName);\n                // ê±´ìˆ˜\n                const tdCount = document.createElement(\"td\");\n                tdCount.className = \"border px-2 py-1 text-center\";\n                tdCount.textContent = String(g.rows.length);\n                tr.appendChild(tdCount);\n                // ìƒì„¸ ë²„íŠ¼\n                const tdDetail = document.createElement(\"td\");\n                tdDetail.className = \"border px-2 py-1 text-center\";\n                const btn = document.createElement(\"button\");\n                btn.type = \"button\";\n                btn.textContent = \"ì£¼ê°„ ìƒì„¸\";\n                btn.className =\n                    \"px-2 py-1 rounded-lg bg-indigo-500 text-white text-[11px] hover:bg-indigo-600\";\n                btn.addEventListener(\"click\", () => openWeeklyDetailModal(g));\n                tdDetail.appendChild(btn);\n                tr.appendChild(tdDetail);\n                tbody.appendChild(tr);\n            });\n        }\n        catch (err) {\n            console.error(err);\n            resultMsg.textContent = \"ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\";\n            tbody.innerHTML = `\n        <tr>\n          <td colspan=\"5\" class=\"border px-2 py-3 text-center text-gray-400\">\n            ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n          </td>\n        </tr>`;\n        }\n    });\n    // ëª¨ë‹¬ ê´€ë ¨ ì´ë²¤íŠ¸\n    const modal = getEl(\"appr_modal\");\n    const modalCloseBtn = getEl(\"appr_modal_close\");\n    const btnApprove = getEl(\"appr_btn_approve\");\n    const btnReject = getEl(\"appr_btn_reject\");\n    modalCloseBtn.addEventListener(\"click\", () => {\n        modal.classList.add(\"hidden\");\n        modal.classList.remove(\"flex\");\n    });\n    // âœ… ì£¼ê°„ ìŠ¹ì¸\n    btnApprove.addEventListener(\"click\", async () => {\n        if (!currentGroup)\n            return;\n        const comment = getEl(\"appr_comment\").value.trim();\n        if (!confirm(\"ì´ ì£¼ê°„ì˜ ëª¨ë“  ì¶œì¥ ê±´ì„ ìŠ¹ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\"))\n            return;\n        try {\n            const approver = window.CURRENT_USER_NAME ?? null;\n            let failed = 0;\n            for (const row of currentGroup.rows) {\n                if (row.approve_status === \"approved\")\n                    continue; // ì´ë¯¸ ìŠ¹ì¸ëœ ê±´ì€ íŒ¨ìŠ¤\n                const res = await fetch(`${API_BASE}/api/business-trip/${encodeURIComponent(row.trip_id)}/approve`, {\n                    method: \"POST\",\n                    headers: { \"Content-Type\": \"application/json\" },\n                    credentials: \"include\",\n                    body: JSON.stringify({ approver, comment }),\n                });\n                const json = await res.json();\n                if (!json.ok) {\n                    failed++;\n                    console.error(\"ìŠ¹ì¸ ì‹¤íŒ¨\", row.trip_id, json);\n                }\n            }\n            if (failed > 0) {\n                alert(`ì¼ë¶€(${failed}ê±´)ëŠ” ìŠ¹ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);\n            }\n            else {\n                alert(\"í•´ë‹¹ ì£¼ê°„ ì¶œì¥ ê±´ì´ ëª¨ë‘ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.\");\n            }\n            modal.classList.add(\"hidden\");\n            modal.classList.remove(\"flex\");\n            getEl(\"appr_search\").click();\n        }\n        catch (e) {\n            console.error(e);\n            alert(\"ì„œë²„ ì˜¤ë¥˜ë¡œ ìŠ¹ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\");\n        }\n    });\n    // âœ… ì£¼ê°„ ë°˜ë ¤\n    btnReject.addEventListener(\"click\", async () => {\n        if (!currentGroup)\n            return;\n        const comment = getEl(\"appr_comment\").value.trim();\n        if (!comment) {\n            if (!confirm(\"ë°˜ë ¤ ì‚¬ìœ ê°€ ì—†ìŠµë‹ˆë‹¤. ê·¸ë˜ë„ ë°˜ë ¤í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\"))\n                return;\n        }\n        try {\n            const approver = window.CURRENT_USER_NAME ?? null;\n            let failed = 0;\n            for (const row of currentGroup.rows) {\n                if (row.approve_status === \"rejected\")\n                    continue; // ì´ë¯¸ ë°˜ë ¤ëœ ê±´ì€ íŒ¨ìŠ¤\n                const res = await fetch(`${API_BASE}/api/business-trip/${encodeURIComponent(row.trip_id)}/reject`, {\n                    method: \"POST\",\n                    headers: { \"Content-Type\": \"application/json\" },\n                    credentials: \"include\",\n                    body: JSON.stringify({ approver, comment }),\n                });\n                const json = await res.json();\n                if (!json.ok) {\n                    failed++;\n                    console.error(\"ë°˜ë ¤ ì‹¤íŒ¨\", row.trip_id, json);\n                }\n            }\n            if (failed > 0) {\n                alert(`ì¼ë¶€(${failed}ê±´)ëŠ” ë°˜ë ¤ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);\n            }\n            else {\n                alert(\"í•´ë‹¹ ì£¼ê°„ ì¶œì¥ ê±´ì´ ëª¨ë‘ ë°˜ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤.\");\n            }\n            modal.classList.add(\"hidden\");\n            modal.classList.remove(\"flex\");\n            getEl(\"appr_search\").click();\n        }\n        catch (e) {\n            console.error(e);\n            alert(\"ì„œë²„ ì˜¤ë¥˜ë¡œ ë°˜ë ¤ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\");\n        }\n    });\n}\n/** ğŸ” ì£¼ê°„ ìƒì„¸ ëª¨ë‹¬ */\nfunction openWeeklyDetailModal(group) {\n    currentGroup = group;\n    const modal = getEl(\"appr_modal\");\n    modal.classList.remove(\"hidden\");\n    modal.classList.add(\"flex\");\n    // ì²« ë²ˆì§¸ í–‰ ê¸°ì¤€ìœ¼ë¡œ ì¶œì¥ì§€/ì°¨ëŸ‰ ìƒë‹¨ ìš”ì•½\n    const firstRow = group.rows[0];\n    const firstReg = (firstRow.detail_json?.register || firstRow.start_data || {});\n    const firstSet = (firstRow.detail_json?.settlement || firstRow.end_data || {});\n    getEl(\"appr_d_name\").textContent = group.req_name;\n    getEl(\"appr_d_date\").textContent = `${formatDateLabel(group.weekStart)} ~ ${formatDateLabel(group.weekEnd)}`;\n    // ë³¸ë¬¸ í…Œì´ë¸”: ì£¼ê°„ ì „ì²´ í–‰\n    const tbody = getEl(\"appr_detail_tbody\");\n    tbody.innerHTML = \"\";\n    // ì¼ììˆœ ì •ë ¬\n    const sorted = [...group.rows].sort((a, b) => a.trip_date.localeCompare(b.trip_date));\n    function td(text, cls = \"border px-2 py-1 text-center\") {\n        const el = document.createElement(\"td\");\n        el.className = cls;\n        el.textContent = text || \"\";\n        return el;\n    }\n    const mealText = (m) => {\n        if (!m || !m.checked)\n            return \"-\";\n        if (m.owner === \"corp\")\n            return \"ë²•ì¸\";\n        if (m.owner === \"personal\")\n            return \"ê°œì¸\";\n        return \"ì‚¬ìš©\";\n    };\n    for (const row of sorted) {\n        const reg = (row.detail_json?.register || row.start_data || {});\n        const set = (row.detail_json?.settlement || row.end_data || {});\n        const workTime = reg.depart_time && set.work_end_time ? `${reg.depart_time} ~ ${set.work_end_time}` : \"\";\n        const meals = set.meals || {};\n        const tr = document.createElement(\"tr\");\n        tr.appendChild(td(formatDateLabel(row.trip_date))); // ì¼ì\n        tr.appendChild(td(reg.depart_place ?? \"\")); // ì¶œë°œì§€\n        tr.appendChild(td(reg.destination ?? \"\")); // ì¶œì¥ì§€\n        tr.appendChild(td(reg.depart_time ?? \"\")); // ì¶œë°œì‹œê°„\n        tr.appendChild(td(reg.arrive_time ?? \"\")); // ë„ì°©ì‹œê°„\n        tr.appendChild(td(workTime)); // ì—…ë¬´ì‹œê°„\n        tr.appendChild(td(set.return_place ?? \"\")); // ë³µê·€ì§€\n        tr.appendChild(td(set.vehicle === \"corp\" ? \"ë²•ì¸\" : set.vehicle === \"personal\" ? \"ê°œì¸\" : \"-\")); // ì°¨ëŸ‰\n        tr.appendChild(td(mealText(meals.breakfast))); // ì¡°ì‹\n        tr.appendChild(td(mealText(meals.lunch))); // ì¤‘ì‹\n        tr.appendChild(td(mealText(meals.dinner))); // ì„ì‹\n        tr.appendChild(td(reg.purpose ?? \"\", \"border px-2 py-1 text-left whitespace-pre-wrap\")); // ëª©ì \n        tbody.appendChild(tr);\n    }\n    // ğŸ’° ê¸ˆì•¡ ìš”ì•½ (ì£¼ê°„ ì „ì²´ í•©ê³„)\n    let totalMealsAmount = 0;\n    let totalFuelAmount = 0;\n    for (const row of group.rows) {\n        const set = (row.detail_json?.settlement || row.end_data || {});\n        const c = set.calc || {};\n        totalMealsAmount += c.meals_personal_amount ?? 0;\n        totalFuelAmount += c.fuel_amount ?? 0;\n    }\n    const amountBox = getEl(\"appr_amount_box\"); // HTMLì— div í•˜ë‚˜ ë§Œë“¤ì–´ë‘ê¸°\n    const sum = totalMealsAmount + totalFuelAmount;\n    amountBox.textContent = `ì‹ëŒ€(ê°œì¸) ${totalMealsAmount.toLocaleString()}ì› / ìœ ë¥˜ë¹„ ${totalFuelAmount.toLocaleString()}ì› / í•©ê³„ ${sum.toLocaleString()}ì›`;\n    // ìŠ¹ì¸/ë°˜ë ¤ ìƒíƒœ ìš”ì•½\n    const total = group.rows.length;\n    const pending = group.rows.filter((r) => !r.approve_status || r.approve_status === \"pending\")\n        .length;\n    const approved = group.rows.filter((r) => r.approve_status === \"approved\").length;\n    const rejected = group.rows.filter((r) => r.approve_status === \"rejected\").length;\n    const footer = getEl(\"appr_footer_info\");\n    footer.textContent = `ì´ ${total}ê±´ / ëŒ€ê¸° ${pending}ê±´ / ìŠ¹ì¸ ${approved}ê±´ / ë°˜ë ¤ ${rejected}ê±´`;\n    // ì˜ê²¬ ì´ˆê¸°í™”\n    getEl(\"appr_comment\").value =\n        group.rows[0]?.approve_comment ?? \"\";\n}\n","// 04_user-manage.ts\nconst PERM_KEYS = [\"ì¶œì¥ìŠ¹ì¸\", \"ì¶œì¥ë‚´ì—­ê´€ë¦¬\", \"ì¶œì¥ë“±ë¡\", \"ì¶œì¥ë‚´ì—­\", \"ì‚¬ìš©ìê´€ë¦¬\"];\n/** ë¬¸ìì—´ â†’ number | null ê³µí†µ í•¨ìˆ˜ */\nfunction parseNumberOrNull(value) {\n    if (!value)\n        return null;\n    const n = Number(String(value).replace(/,/g, \"\"));\n    return Number.isFinite(n) ? n : null;\n}\n/** ì„œë²„ì—ì„œ ì˜¨ row(any í˜•íƒœ)ë¥¼ InnomaxUser ë¡œ ë³€í™˜ */\nfunction mapRawUser(row) {\n    // distance_detail_json íŒŒì‹±\n    let distanceArr = [];\n    const rawDistance = row.distance_detail_json ?? null;\n    if (rawDistance) {\n        let parsed = rawDistance;\n        // textë¡œ ì™”ì„ ìˆ˜ë„ ìˆìœ¼ë‹ˆ íŒŒì‹±\n        if (typeof parsed === \"string\") {\n            try {\n                parsed = JSON.parse(parsed);\n            }\n            catch {\n                parsed = [];\n            }\n        }\n        if (Array.isArray(parsed)) {\n            distanceArr = parsed.map((r) => ({\n                region: String(r.region ?? \"\"),\n                client_name: String(r.client_name ?? \"\"),\n                travel_time_text: String(r.travel_time_text ?? \"\"),\n                // ì˜ˆì „ êµ¬ì¡°ë„ ìµœëŒ€í•œ ë”°ë¼ì™€ì„œ km í•„ë“œë¡œ ë³€í™˜\n                home_distance_km: r.home_distance_km != null\n                    ? Number(r.home_distance_km)\n                    : r.distance_km != null\n                        ? Number(r.distance_km)\n                        : r.home_distance_min != null\n                            ? Number(r.home_distance_min)\n                            : null,\n            }));\n        }\n    }\n    // permissions: jsonb / text / null ì–´ë–¤ í˜•íƒœë¡œ ì™€ë„ ì²˜ë¦¬\n    let perms = null;\n    let rawPerms = row.permissions ?? null;\n    if (rawPerms) {\n        if (typeof rawPerms === \"string\") {\n            try {\n                rawPerms = JSON.parse(rawPerms);\n            }\n            catch {\n                rawPerms = null;\n            }\n        }\n        if (rawPerms && typeof rawPerms === \"object\" && !Array.isArray(rawPerms)) {\n            perms = rawPerms;\n        }\n    }\n    return {\n        no: Number(row.no ?? row.No ?? 0),\n        id: String(row.id ?? row.ID ?? \"\"),\n        name: String(row.name ?? row.Name ?? \"\"),\n        email: row.email ?? null,\n        company_part: row.company_part ?? null,\n        address: row.address ?? null,\n        fuel_type: row.fuel_type ?? null,\n        permissions: perms,\n        distance_detail: distanceArr,\n    };\n}\n/** í¼ì˜ permission select ê°’ë“¤ â†’ ê°ì²´ë¡œ ëª¨ìœ¼ê¸° */\nfunction collectPermissionsFromForm() {\n    const perms = {};\n    PERM_KEYS.forEach((key) => {\n        const el = document.getElementById(key);\n        if (el)\n            perms[key] = el.value;\n    });\n    return perms;\n}\n/** í¼ select ë“¤ì„ ì£¼ì–´ì§„ permission ê°’ìœ¼ë¡œ ì±„ìš°ê¸° */\nfunction fillPermissionSelects(perms) {\n    PERM_KEYS.forEach((key) => {\n        const el = document.getElementById(key);\n        if (!el)\n            return;\n        const v = perms?.[key];\n        el.value = v ? String(v) : \"None\";\n    });\n}\n/** ğŸ‘ ë²„íŠ¼ìš© ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ/ìˆ¨ê¸°ê¸° */\nfunction togglePassword() {\n    const input = document.getElementById(\"modalPassword\");\n    if (!input)\n        return;\n    input.type = input.type === \"password\" ? \"text\" : \"password\";\n}\n// HTMLì—ì„œ onclick=\"togglePassword()\" ì“¸ ìˆ˜ ìˆê²Œ ì „ì—­ì— ì˜¬ë¦¬ê¸°\nwindow.togglePassword = togglePassword;\n/**\n * âœ… DOMì´ ëŠ¦ê²Œ ë¶™ëŠ”(íƒ­ ì „í™˜) êµ¬ì¡°ì—ì„œ ìì£¼ nullì´ ë– ì„œ,\n *   íŠ¹ì • idê°€ ìƒê¸¸ ë•Œê¹Œì§€ ëª‡ ë²ˆ ì¬ì‹œë„í•˜ëŠ” ìœ í‹¸\n */\nasync function waitForEl(id, tries = 30, delayMs = 100) {\n    for (let i = 0; i < tries; i++) {\n        const el = document.getElementById(id);\n        if (el)\n            return el;\n        await new Promise((r) => setTimeout(r, delayMs));\n    }\n    return null;\n}\nexport function initUserManagePanel(API_BASE) {\n    console.log(\"[ì‚¬ìš©ìê´€ë¦¬] initUserManagePanel ì‹œì‘\");\n    // âœ… íƒ­ ì „í™˜ êµ¬ì¡°ì—ì„œ DOMì´ ì•„ì§ ì—†ì„ ìˆ˜ ìˆì–´ì„œ ê¸°ë‹¤ë ¸ë‹¤ê°€ ì¡ëŠ”ë‹¤\n    (async () => {\n        const tbodyEl = await waitForEl(\"userTableBody\", 40, 100);\n        const userModal = document.getElementById(\"userModal\");\n        const userForm = document.getElementById(\"userForm\");\n        const modalTitle = document.getElementById(\"modalTitle\");\n        const modalMode = document.getElementById(\"modalMode\"); // add / edit\n        const modalNo = document.getElementById(\"modalNo\");\n        const inputName = document.getElementById(\"modalName\");\n        const inputID = document.getElementById(\"modalID\");\n        const inputPassword = document.getElementById(\"modalPassword\");\n        const inputEmail = document.getElementById(\"modalEmail\");\n        const inputCompany = document.getElementById(\"modalCompanyPart\");\n        const inputAddress = document.getElementById(\"modalAddress\");\n        // âœ… ìœ ì¢…(ì‚¬ìš©ì 1ê°œ) input\n        const inputFuelType = document.getElementById(\"modalFuelType\");\n        const btnAdd = document.getElementById(\"userAddBtn\");\n        const btnModalClose = document.getElementById(\"userModalCancelBtn\");\n        // ğŸ”¹ ê±°ë¦¬í‘œ ê´€ë ¨ DOM\n        const distanceTbodyEl = document.getElementById(\"userDistanceTbody\");\n        const btnDistanceAddRow = document.getElementById(\"btnUserDistanceAddRow\");\n        // âœ… ì—¬ê¸°ì„œë„ í•„ìˆ˜ DOM ê²€ì¦\n        if (!tbodyEl) {\n            console.error(\"[ì‚¬ìš©ìê´€ë¦¬] âŒ userTableBody ë¥¼ ëª» ì°¾ì•˜ìŠµë‹ˆë‹¤. (HTML tbody id í™•ì¸!)\");\n            return;\n        }\n        if (!userModal || !userForm) {\n            console.warn(\"[ì‚¬ìš©ìê´€ë¦¬] userModal ë˜ëŠ” userForm ì„ ëª» ì°¾ì•˜ìŠµë‹ˆë‹¤. (ëª¨ë‹¬ HTML í™•ì¸)\");\n            return;\n        }\n        const tbody = tbodyEl;\n        const distanceTbody = distanceTbodyEl;\n        // ì´ë¯¸ ì´ˆê¸°í™”ëœ ê²½ìš° ë˜ í•˜ì§€ ì•Šê¸° (ì‚¬ì´ë“œë°” ì´ë™ ì‹œ ì¤‘ë³µ ë°©ì§€)\n        if (tbody._bound) {\n            console.debug(\"[ì‚¬ìš©ìê´€ë¦¬] ì´ë¯¸ ì´ˆê¸°í™”ë¨. (ì´ë²¤íŠ¸ë§Œ refresh ë¡œ ì²˜ë¦¬)\");\n            // âœ… ê·¸ë˜ë„ refresh ì´ë²¤íŠ¸ëŠ” ì‚´ì•„ìˆì–´ì•¼ í•˜ë‹ˆ ì•„ë˜ì—ì„œ ì´ë²¤íŠ¸ë§Œ ë“±ë¡\n        }\n        else {\n            tbody._bound = true;\n        }\n        // ğŸ”¹ í˜„ì¬ ëª¨ë‹¬ì—ì„œ í¸ì§‘ ì¤‘ì¸ ê±°ë¦¬ ë°°ì—´\n        let distanceRows = [];\n        let masterClients = [];\n        // ================== ê±°ë˜ì²˜ ë§ˆìŠ¤í„° ë¡œë”© ==================\n        async function loadMasterClients() {\n            try {\n                const res = await fetch(`${API_BASE}/api/business-master/client-list`, {\n                    credentials: \"include\",\n                });\n                if (!res.ok) {\n                    console.error(\"[ì‚¬ìš©ìê´€ë¦¬] ê±°ë˜ì²˜ ë§ˆìŠ¤í„° ì¡°íšŒ ì‹¤íŒ¨ status =\", res.status);\n                    return;\n                }\n                const rows = (await res.json());\n                masterClients = rows\n                    .map((r) => ({\n                    region: String(r.region ?? \"\"),\n                    client_name: String(r.client_name ?? \"\").trim(),\n                    travel_time_text: String(r.travel_time_text ?? \"\"),\n                }))\n                    .filter((c) => c.client_name)\n                    .sort((a, b) => a.client_name.localeCompare(b.client_name, \"ko\"));\n                console.log(\"[ì‚¬ìš©ìê´€ë¦¬] ê±°ë˜ì²˜ ë§ˆìŠ¤í„° ë¡œë”© ì™„ë£Œ, ê°œìˆ˜ =\", masterClients.length);\n            }\n            catch (err) {\n                console.error(\"[ì‚¬ìš©ìê´€ë¦¬] ê±°ë˜ì²˜ ë§ˆìŠ¤í„° ë¡œë”© ì¤‘ ì˜¤ë¥˜:\", err);\n            }\n        }\n        // ============= ê±°ë¦¬í‘œ ë Œë”ë§/ìˆ˜ì§‘ í•¨ìˆ˜ë“¤ =============\n        /** ê±°ë¦¬í‘œ ë Œë”ë§ */\n        function renderDistanceTable() {\n            if (!distanceTbody)\n                return;\n            distanceTbody.innerHTML = \"\";\n            if (!distanceRows.length) {\n                distanceTbody.innerHTML = `\n          <tr>\n            <td colspan=\"5\" class=\"border px-2 py-1 text-center text-[11px] text-gray-400\">\n              ë“±ë¡ëœ ê±°ë¦¬ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. [+ ê±°ë¦¬ í–‰ ì¶”ê°€] ë²„íŠ¼ìœ¼ë¡œ ì¶”ê°€í•˜ì„¸ìš”.\n            </td>\n          </tr>\n        `;\n                return;\n            }\n            distanceRows.forEach((row, index) => {\n                const tr = document.createElement(\"tr\");\n                tr.dataset.index = String(index);\n                tr.innerHTML = `\n          <td class=\"border px-1 py-1 text-center text-[11px]\">${index + 1}</td>\n          <td class=\"border px-1 py-1\">\n            <input type=\"text\"\n              class=\"w-full border rounded px-1 py-[2px] text-[11px] region-input\"\n              value=\"${row.region ?? \"\"}\"\n            />\n          </td>\n          <td class=\"border px-1 py-1\">\n            <input type=\"text\"\n              class=\"w-full border rounded px-1 py-[2px] text-[11px] client-input\"\n              value=\"${row.client_name ?? \"\"}\"\n            />\n          </td>\n          <td class=\"border px-1 py-1\">\n            <input type=\"text\"\n              class=\"w-full border rounded px-1 py-[2px] text-[11px] travel-time-input\"\n              placeholder=\"ì˜ˆ: 1ì‹œê°„8ë¶„\"\n              value=\"${row.travel_time_text ?? \"\"}\"\n            />\n          </td>\n          <td class=\"border px-1 py-1\">\n            <input type=\"number\" step=\"0.1\"\n              class=\"w-full border rounded px-1 py-[2px] text-right text-[11px] home-km-input\"\n              placeholder=\"ìíƒâ†’ì¶œì¥ì§€ km\"\n              value=\"${row.home_distance_km ?? \"\"}\"\n            />\n          </td>\n        `;\n                distanceTbody.appendChild(tr);\n            });\n        }\n        /** í…Œì´ë¸” DOM â†’ distanceRows ë°°ì—´ë¡œ ë°˜ì˜ */\n        function syncDistanceRowsFromTable() {\n            if (!distanceTbody)\n                return;\n            const trs = distanceTbody.querySelectorAll(\"tr\");\n            const newRows = [];\n            trs.forEach((tr) => {\n                const regionInput = tr.querySelector(\".region-input\");\n                const clientInput = tr.querySelector(\".client-input\");\n                const travelTimeInput = tr.querySelector(\".travel-time-input\");\n                const homeKmInput = tr.querySelector(\".home-km-input\");\n                // ì•ˆë‚´ë¬¸ í–‰ì€ inputì´ ì—†ìœ¼ë‹ˆ ìŠ¤í‚µ\n                if (!clientInput)\n                    return;\n                const clientName = clientInput.value.trim();\n                const homeKm = parseNumberOrNull(homeKmInput?.value ?? \"\");\n                // ê±°ë˜ì²˜ + ìíƒê±°ë¦¬ ë‘˜ ë‹¤ ì—†ìœ¼ë©´ ì™„ì „ ë¹ˆì¤„ë¡œ ë³´ê³  ìŠ¤í‚µ\n                if (!clientName && homeKm == null)\n                    return;\n                newRows.push({\n                    region: regionInput?.value.trim() ?? \"\",\n                    client_name: clientName,\n                    travel_time_text: travelTimeInput?.value.trim() ?? \"\",\n                    home_distance_km: homeKm,\n                });\n            });\n            distanceRows = newRows;\n        }\n        /** ë¹ˆ í–‰ í•˜ë‚˜ ì¶”ê°€ */\n        function addDistanceEmptyRow() {\n            distanceRows.push({\n                region: \"\",\n                client_name: \"\",\n                travel_time_text: \"\",\n                home_distance_km: null,\n            });\n            renderDistanceTable();\n        }\n        /** ëª¨ë‹¬ ì—´ê¸° */\n        function openModal(mode, user) {\n            if (!userModal || !modalMode || !modalTitle)\n                return;\n            modalMode.value = mode;\n            if (mode === \"add\") {\n                modalTitle.textContent = \"ì‚¬ìš©ì ì¶”ê°€\";\n                if (modalNo)\n                    modalNo.value = \"\";\n                if (inputID)\n                    inputID.value = \"\";\n                if (inputName)\n                    inputName.value = \"\";\n                if (inputPassword)\n                    inputPassword.value = \"\";\n                if (inputEmail)\n                    inputEmail.value = \"\";\n                if (inputCompany)\n                    inputCompany.value = \"ì´ë…¸ë§¥ìŠ¤\";\n                if (inputAddress)\n                    inputAddress.value = \"\";\n                if (inputFuelType)\n                    inputFuelType.value = \"\";\n                fillPermissionSelects(null);\n                distanceRows =\n                    masterClients.length > 0\n                        ? masterClients.map((c) => ({\n                            region: c.region,\n                            client_name: c.client_name,\n                            travel_time_text: c.travel_time_text,\n                            home_distance_km: null,\n                        }))\n                        : [];\n            }\n            else {\n                modalTitle.textContent = \"ì‚¬ìš©ì ìˆ˜ì •\";\n                if (user && modalNo)\n                    modalNo.value = String(user.no);\n                if (inputID)\n                    inputID.value = user?.id ?? \"\";\n                if (inputName)\n                    inputName.value = user?.name ?? \"\";\n                if (inputPassword)\n                    inputPassword.value = \"\";\n                if (inputEmail)\n                    inputEmail.value = user?.email ?? \"\";\n                if (inputCompany)\n                    inputCompany.value = user?.company_part ?? \"ì´ë…¸ë§¥ìŠ¤\";\n                if (inputAddress)\n                    inputAddress.value = user?.address ?? \"\";\n                if (inputFuelType)\n                    inputFuelType.value = user?.fuel_type ?? \"\";\n                fillPermissionSelects(user?.permissions ?? {});\n                distanceRows =\n                    user?.distance_detail && user.distance_detail.length\n                        ? user.distance_detail\n                        : masterClients.map((c) => ({\n                            region: c.region,\n                            client_name: c.client_name,\n                            travel_time_text: c.travel_time_text,\n                            home_distance_km: null,\n                        }));\n            }\n            renderDistanceTable();\n            userModal.classList.remove(\"hidden\");\n        }\n        /** ëª¨ë‹¬ ë‹«ê¸° */\n        function closeModal() {\n            if (!userModal)\n                return;\n            userModal.classList.add(\"hidden\");\n        }\n        // ëª¨ë‹¬ \"ì·¨ì†Œ\" ë²„íŠ¼\n        btnModalClose?.addEventListener(\"click\", closeModal);\n        // ìƒë‹¨ \"ì‚¬ìš©ì ì¶”ê°€\" ë²„íŠ¼\n        console.log(\"[ì‚¬ìš©ìê´€ë¦¬] userAddBtn =\", btnAdd);\n        btnAdd?.addEventListener(\"click\", () => {\n            console.log(\"[ì‚¬ìš©ìê´€ë¦¬] ì¶”ê°€ ë²„íŠ¼ í´ë¦­\");\n            openModal(\"add\");\n        });\n        /** ì‚¬ìš©ì ëª©ë¡ ë‹¤ì‹œ ë¡œë”© */\n        async function loadUsers() {\n            tbody.innerHTML = `\n        <tr>\n          <td colspan=\"8\" class=\"px-3 py-2 text-center text-xs text-gray-400\">\n            ì‚¬ìš©ì ëª©ë¡ ë¡œë”© ì¤‘...\n          </td>\n        </tr>\n      `;\n            try {\n                const res = await fetch(`${API_BASE}/api/users`, { credentials: \"include\" });\n                if (!res.ok)\n                    throw new Error(`status = ${res.status}`);\n                const rows = await res.json();\n                console.log(\"[ì‚¬ìš©ìê´€ë¦¬] ì„œë²„ ì‘ë‹µ =\", rows);\n                const users = Array.isArray(rows) ? rows.map(mapRawUser) : [];\n                if (!users.length) {\n                    tbody.innerHTML = `\n            <tr>\n              <td colspan=\"8\" class=\"px-3 py-2 text-center text-xs text-gray-400\">\n                ë“±ë¡ëœ ì‚¬ìš©ìê°€ ì—†ìŠµë‹ˆë‹¤.\n              </td>\n            </tr>\n          `;\n                    return;\n                }\n                tbody.innerHTML = \"\";\n                users.forEach((u, idx) => {\n                    const tr = document.createElement(\"tr\");\n                    tr.className = \"divide-y divide-gray-200 text-xs\";\n                    let permText = \"ê¶Œí•œì—†ìŒ\";\n                    if (u.permissions) {\n                        permText = Object.entries(u.permissions)\n                            .map(([k, v]) => `${k}:${v}`)\n                            .join(\", \");\n                    }\n                    tr.innerHTML = `\n            <td class=\"px-3 py-2\">${idx + 1}</td>\n            <td class=\"px-3 py-2\">${u.name}</td>\n            <td class=\"px-3 py-2\">${u.id}</td>\n            <td class=\"px-3 py-2\">****</td>\n            <td class=\"px-3 py-2\">${u.email ?? \"\"}</td>\n            <td class=\"px-3 py-2\">${u.company_part ?? \"\"}</td>\n            <td class=\"px-3 py-2 text-center\">${permText}</td>\n            <td class=\"px-3 py-2 text-center space-x-1\">\n              <button class=\"px-2 py-1 rounded bg-indigo-500 text-white text-[11px] btn-edit-user\" data-no=\"${u.no}\">\n                ìˆ˜ì •\n              </button>\n              <button class=\"px-2 py-1 rounded bg-red-500 text-white text-[11px] btn-del-user\" data-no=\"${u.no}\">\n                ì‚­ì œ\n              </button>\n            </td>\n          `;\n                    tbody.appendChild(tr);\n                });\n            }\n            catch (err) {\n                console.error(\"[ì‚¬ìš©ìê´€ë¦¬] ëª©ë¡ ë¡œë”© ì‹¤íŒ¨:\", err);\n                tbody.innerHTML = `\n          <tr>\n            <td colspan=\"8\" class=\"px-3 py-2 text-center text-xs text-red-500\">\n              ëª©ë¡ ë¡œë”© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n            </td>\n          </tr>\n        `;\n            }\n        }\n        /** í…Œì´ë¸”ì—ì„œ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì²˜ë¦¬ (ì´ë²¤íŠ¸ ìœ„ì„) */\n        tbody.addEventListener(\"click\", async (e) => {\n            const target = e.target;\n            if (!target)\n                return;\n            // ìˆ˜ì • ë²„íŠ¼\n            if (target.classList.contains(\"btn-edit-user\")) {\n                const no = target.dataset.no;\n                if (!no)\n                    return;\n                try {\n                    const res = await fetch(`${API_BASE}/api/users/${no}`, { credentials: \"include\" });\n                    if (!res.ok) {\n                        alert(\"ì‚¬ìš©ì ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n                        return;\n                    }\n                    const raw = await res.json();\n                    openModal(\"edit\", mapRawUser(raw));\n                }\n                catch (err) {\n                    console.error(\"[ì‚¬ìš©ìê´€ë¦¬] ë‹¨ì¼ ì¡°íšŒ ì‹¤íŒ¨:\", err);\n                }\n            }\n            // ì‚­ì œ ë²„íŠ¼\n            if (target.classList.contains(\"btn-del-user\")) {\n                const no = target.dataset.no;\n                if (!no)\n                    return;\n                if (!confirm(\"ì •ë§ ì´ ì‚¬ìš©ìë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\"))\n                    return;\n                try {\n                    const res = await fetch(`${API_BASE}/api/users/${no}`, {\n                        method: \"DELETE\",\n                        credentials: \"include\",\n                    });\n                    if (!res.ok) {\n                        alert(\"ì‚­ì œ ì‹¤íŒ¨\");\n                        return;\n                    }\n                    await loadUsers();\n                }\n                catch (err) {\n                    console.error(\"[ì‚¬ìš©ìê´€ë¦¬] ì‚­ì œ ì‹¤íŒ¨:\", err);\n                    alert(\"ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n                }\n            }\n        });\n        /** ëª¨ë‹¬ ì•ˆì˜ form submit â†’ ì¶”ê°€ ë˜ëŠ” ìˆ˜ì • */\n        userForm.addEventListener(\"submit\", async (e) => {\n            e.preventDefault();\n            const mode = modalMode?.value === \"edit\" ? \"edit\" : \"add\";\n            const no = modalNo?.value;\n            const id = inputID?.value.trim() ?? \"\";\n            const name = inputName?.value.trim() ?? \"\";\n            const password = inputPassword?.value.trim() ?? \"\";\n            const email = inputEmail?.value.trim() || null;\n            const company_part = inputCompany?.value.trim() || null;\n            const address = inputAddress?.value.trim() || null;\n            const fuel_type = inputFuelType?.value.trim() || null;\n            const permissions = collectPermissionsFromForm();\n            syncDistanceRowsFromTable();\n            if (!id || !name || (mode === \"add\" && !password)) {\n                alert(\"ID, ì´ë¦„, ë¹„ë°€ë²ˆí˜¸(ì¶”ê°€ ì‹œ)ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.\");\n                return;\n            }\n            try {\n                if (mode === \"add\") {\n                    const res = await fetch(`${API_BASE}/api/users`, {\n                        method: \"POST\",\n                        headers: { \"Content-Type\": \"application/json\" },\n                        body: JSON.stringify({\n                            Name: name,\n                            ID: id,\n                            password,\n                            email,\n                            company_part,\n                            permissions,\n                            address,\n                            fuel_type,\n                            distance_detail: distanceRows,\n                        }),\n                    });\n                    const json = await res.json().catch(() => ({}));\n                    if (!res.ok || json.ok === false) {\n                        alert(json.error || \"ì‚¬ìš©ì ì¶”ê°€ ì‹¤íŒ¨\");\n                        return;\n                    }\n                }\n                else {\n                    if (!no) {\n                        alert(\"ìˆ˜ì • ëŒ€ìƒ ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n                        return;\n                    }\n                    const payload = {\n                        Name: name,\n                        ID: id,\n                        email,\n                        company_part,\n                        permissions,\n                        address,\n                        fuel_type,\n                        distance_detail: distanceRows,\n                    };\n                    if (password)\n                        payload.password = password;\n                    const res = await fetch(`${API_BASE}/api/users/${no}`, {\n                        method: \"PUT\",\n                        headers: { \"Content-Type\": \"application/json\" },\n                        body: JSON.stringify(payload),\n                    });\n                    const json = await res.json().catch(() => ({}));\n                    if (!res.ok || json.ok === false) {\n                        alert(json.error || \"ì‚¬ìš©ì ìˆ˜ì • ì‹¤íŒ¨\");\n                        return;\n                    }\n                }\n                closeModal();\n                await loadUsers();\n            }\n            catch (err) {\n                console.error(\"[ì‚¬ìš©ìê´€ë¦¬] ì €ì¥ ì‹¤íŒ¨:\", err);\n                alert(\"ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n            }\n        });\n        // [+ ê±°ë¦¬ í–‰ ì¶”ê°€] ë²„íŠ¼\n        btnDistanceAddRow?.addEventListener(\"click\", addDistanceEmptyRow);\n        // âœ… ë‹¤ë¥¸ ê³³ì—ì„œ â€œì‚¬ìš©ìê´€ë¦¬ ë‹¤ì‹œ ìƒˆë¡œê³ ì¹¨â€ ì´ë²¤íŠ¸ ë³´ë‚´ë©´, ì—¬ê¸°ì„œ ì¦‰ì‹œ ì¬ë¡œë”©\n        window.addEventListener(\"user-manage-refresh\", () => {\n            console.log(\"[ì‚¬ìš©ìê´€ë¦¬] refresh ì´ë²¤íŠ¸ ìˆ˜ì‹  â†’ loadUsers()\");\n            loadUsers();\n        });\n        // ì´ˆê¸° ë°ì´í„° ë¡œë”©\n        await loadMasterClients();\n        await loadUsers();\n    })();\n}\n","// 05_business-master.ts\n// ğŸš— ì¶œì¥ì—…ë¬´ ê´€ë¦¬ (ê±°ë¦¬ ë§ˆìŠ¤í„° + ìœ ë¥˜/í™˜ìœ¨/ë‹¹ì§ì/ê³µì§€ ì„¤ì •) í”„ë¡ íŠ¸ ì½”ë“œ\n// âœ… ìˆ˜ì •ë³¸: \"ë‹¹ì§ ìë™ ìƒì„±\" = íœ´ì¼(ì£¼ë§+ê³µíœ´ì¼ API)ë§Œ ë°°ì • + í‘œ ì¶œë ¥ + ëŒ€ì‹œë³´ë“œ í‘œë„ ìë™ ì±„ì›€\n// âœ… ì¶”ê°€ ìˆ˜ì •: F5 ìƒˆë¡œê³ ì¹¨í•´ë„ ë‹¹ì§í‘œ ìœ ì§€(ë§ˆì§€ë§‰ ìƒì„± ê²°ê³¼ë¥¼ duty_members_textì— ê°™ì´ ì €ì¥/ë³µì›)\n// âœ… ì¶”ê°€: íœ´ê°€ì ì„¤ì •(ë“±ë¡/ì‚­ì œ) + ëŒ€ì‹œë³´ë“œ íœ´ê°€ìí˜„í™© ê°±ì‹  ì´ë²¤íŠ¸\n// âœ… ì¶”ê°€: íœ´ê°€/ë‹¹ì§ ìš”ì•½ ìº˜ë¦°ë” (ì›” ì´ë™ + ìë™ í‘œê¸°)\n// ======================\n// ìœ í‹¸\n// ======================\nfunction parseNumberOrNull(value) {\n    if (!value)\n        return null;\n    const n = Number(String(value).replace(/,/g, \"\"));\n    return Number.isFinite(n) ? n : null;\n}\nfunction mapRawDistance(row) {\n    return {\n        id: row.id != null ? Number(row.id) : null,\n        region: String(row.region ?? \"\"),\n        client_name: String(row.client_name ?? \"\"),\n        distance_km: row.distance_km != null ? Number(row.distance_km) : null,\n    };\n}\nfunction pad2(n) {\n    return String(n).padStart(2, \"0\");\n}\nfunction ymd(d) {\n    return `${d.getFullYear()}-${pad2(d.getMonth() + 1)}-${pad2(d.getDate())}`;\n}\nfunction ym(d) {\n    return `${d.getFullYear()}-${pad2(d.getMonth() + 1)}`;\n}\nfunction parseLocdateToYmd(loc) {\n    const s = String(loc ?? \"\");\n    if (!/^\\d{8}$/.test(s))\n        return \"\";\n    return `${s.slice(0, 4)}-${s.slice(4, 6)}-${s.slice(6, 8)}`;\n}\nfunction getDowKr(dateStr) {\n    const d = new Date(dateStr + \"T00:00:00\");\n    const day = d.getDay();\n    const map = [\"ì¼\", \"ì›”\", \"í™”\", \"ìˆ˜\", \"ëª©\", \"ê¸ˆ\", \"í† \"];\n    return map[day] ?? \"\";\n}\nfunction isWeekend(dateStr) {\n    const d = new Date(dateStr + \"T00:00:00\");\n    const day = d.getDay();\n    return day === 0 || day === 6;\n}\nfunction getAllDaysOfMonth(base) {\n    const y = base.getFullYear();\n    const m = base.getMonth();\n    const last = new Date(y, m + 1, 0).getDate();\n    const days = [];\n    for (let i = 1; i <= last; i++)\n        days.push(new Date(y, m, i));\n    return days;\n}\nfunction escapeHtml(s) {\n    return String(s ?? \"\")\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\");\n}\nfunction vacTypeLabel(t) {\n    if (t === \"annual\")\n        return \"ì—°ì°¨\";\n    if (t === \"half\")\n        return \"ë°˜ì°¨\";\n    return \"ê¸°íƒ€\";\n}\nfunction datesBetweenInclusive(start, end) {\n    const out = [];\n    const s = new Date(start + \"T00:00:00\");\n    const e = new Date(end + \"T00:00:00\");\n    for (let d = new Date(s); d <= e; d.setDate(d.getDate() + 1)) {\n        out.push(ymd(d));\n    }\n    return out;\n}\nfunction buildVacationEvents(items) {\n    const map = new Map();\n    for (const it of items) {\n        if (!it?.start_date || !it?.end_date)\n            continue;\n        const label = `${it.user_name}(${vacTypeLabel(it.vac_type)})`;\n        const days = datesBetweenInclusive(it.start_date, it.end_date);\n        for (const ds of days) {\n            if (!map.has(ds))\n                map.set(ds, []);\n            map.get(ds).push({\n                date: ds,\n                kind: \"VACATION\",\n                text: label,\n            });\n        }\n    }\n    return map;\n}\nfunction buildDutyEvents(assigns) {\n    const map = new Map();\n    for (const a of assigns) {\n        if (!a?.date || !a?.name)\n            continue;\n        if (!map.has(a.date))\n            map.set(a.date, []);\n        map.get(a.date).push({\n            date: a.date,\n            kind: \"DUTY\",\n            text: a.name,\n        });\n    }\n    return map;\n}\n// ======================\n// âœ… ë‹¹ì§ \"í‘œ\" ë Œë” (ì›”ì¼ / ì†Œì† / ê·¼ë¬´ìë§Œ)\n// ======================\nfunction renderDutyTable(assigns) {\n    const box = document.getElementById(\"dutyTableBox\");\n    if (!box)\n        return;\n    if (!assigns.length) {\n        box.innerHTML = `\n      <div class=\"text-xs text-gray-400 text-center py-6\">\n        ìƒì„±ëœ ë‹¹ì§ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.\n      </div>\n    `;\n        return;\n    }\n    const TEAM_NAME = \"S/WíŒ€\"; // âœ… ì¼ë‹¨ ê³ ì •ê°’. ë‚˜ì¤‘ì— ì‚¬ìš©ì ì†Œì†ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆìŒ\n    const rows = assigns\n        .map((a) => {\n        const mmdd = a.date.slice(5); // \"01-10\"\n        return `\n        <tr class=\"border-b last:border-b-0\">\n          <td class=\"px-3 py-2 text-center text-[12px] whitespace-nowrap\">${mmdd}</td>\n          <td class=\"px-3 py-2 text-center text-[12px] whitespace-nowrap\">${TEAM_NAME}</td>\n          <td class=\"px-3 py-2 text-center text-[12px] font-semibold whitespace-nowrap\">${a.name}</td>\n        </tr>\n      `;\n    })\n        .join(\"\");\n    box.innerHTML = `\n    <div class=\"border rounded-xl overflow-hidden bg-white\">\n      <div class=\"px-3 py-2 border-b text-sm font-bold text-gray-800\">ë‹¹ì§ê·¼ë¬´ ì¼ì •</div>\n      <div class=\"overflow-auto\">\n        <table class=\"w-full border-collapse text-[12px]\">\n          <thead class=\"bg-gray-50 text-gray-600\">\n            <tr>\n              <th class=\"border-b px-3 py-2 text-center whitespace-nowrap w-24\">ì›”ì¼</th>\n              <th class=\"border-b px-3 py-2 text-center whitespace-nowrap w-28\">ì†Œì†</th>\n              <th class=\"border-b px-3 py-2 text-center whitespace-nowrap\">ê·¼ë¬´ì</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${rows}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  `;\n}\n// ======================\n// âœ… ëŒ€ì‹œë³´ë“œ \"íœ´ì¼/ë‹¹ì§ ìº˜ë¦°ë”\" í‘œ ì±„ìš°ê¸°\n// ======================\nfunction renderDashboardHolidayDuty(holidays, assignsMap) {\n    const tbody = document.getElementById(\"dutyHolidayBody\");\n    if (!tbody)\n        return;\n    if (!holidays.length) {\n        tbody.innerHTML = `\n      <tr>\n        <td class=\"px-2 py-2 text-center text-gray-400\" colspan=\"4\">í‘œì‹œí•  íœ´ì¼ì´ ì—†ìŠµë‹ˆë‹¤.</td>\n      </tr>\n    `;\n        return;\n    }\n    tbody.innerHTML = holidays\n        .map((h) => {\n        const dutyName = assignsMap[h.date] ?? \"-\";\n        const typeLabel = h.type === \"ê³µíœ´ì¼\"\n            ? h.holidayName\n                ? `ê³µíœ´ì¼(${h.holidayName})`\n                : \"ê³µíœ´ì¼\"\n            : \"ì£¼ë§\";\n        return `\n        <tr>\n          <td class=\"border px-2 py-1 text-center\">${h.date.slice(5)}</td>\n          <td class=\"border px-2 py-1 text-center\">${h.dow}</td>\n          <td class=\"border px-2 py-1 text-center\">${typeLabel}</td>\n          <td class=\"border px-2 py-1 text-center font-semibold\">${dutyName}</td>\n        </tr>\n      `;\n    })\n        .join(\"\");\n}\n// ======================\n// ë©”ì¸ ì§„ì… í•¨ìˆ˜\n// ======================\nexport function initBusinessMasterPanel(API_BASE) {\n    console.log(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] initBusinessMasterPanel ì‹œì‘\");\n    // DOM ìˆ˜ì§‘\n    const panel = document.getElementById(\"panel-ì¶œì¥ì—…ë¬´-ê´€ë¦¬\");\n    const distanceTbodyEl = document.getElementById(\"distanceTbody\");\n    const btnConfigSave = document.getElementById(\"btnConfigSave\");\n    const btnDistanceAddRow = document.getElementById(\"btnDistanceAddRow\");\n    const btnDistanceSave = document.getElementById(\"btnDistanceSave\");\n    const inputFuelGasoline = document.getElementById(\"cfgFuelGasoline\");\n    const inputFuelDiesel = document.getElementById(\"cfgFuelDiesel\");\n    const inputFuelGas = document.getElementById(\"cfgFuelGas\");\n    const inputUsd = document.getElementById(\"cfgUsd\");\n    const inputJpy = document.getElementById(\"cfgJpy\");\n    const inputCny = document.getElementById(\"cfgCny\");\n    const textareaNotice = document.getElementById(\"cfgNotice\");\n    const dutyTbody = document.getElementById(\"dutyTbody\");\n    const btnDutyGenerateThisMonth = document.getElementById(\"btnDutyGenerateThisMonth\") ||\n        document.getElementById(\"btnDutyGenThisMonth\");\n    const dutyResultBox = document.getElementById(\"dutyResultBox\");\n    // âœ… íœ´ê°€ì ì„¤ì • DOM\n    const vacUserSelect = document.getElementById(\"vacUserSelect\");\n    const vacTypeSelect = document.getElementById(\"vacTypeSelect\");\n    const vacFrom = document.getElementById(\"vacFrom\");\n    const vacTo = document.getElementById(\"vacTo\");\n    const vacNote = document.getElementById(\"vacNote\");\n    const btnVacAdd = document.getElementById(\"btnVacAdd\");\n    const vacationAdminTbody = document.getElementById(\"vacationAdminTbody\");\n    const vacAdminMsg = document.getElementById(\"vacAdminMsg\");\n    // âœ… ìš”ì•½ ìº˜ë¦°ë” DOM (ì—†ìœ¼ë©´ ê·¸ëƒ¥ ê¸°ëŠ¥ë§Œ ìŠ¤í‚µë¨)\n    const sumCalGrid = document.getElementById(\"sumCalGrid\");\n    const sumCalLabel = document.getElementById(\"sumCalLabel\");\n    const sumCalPrev = document.getElementById(\"sumCalPrev\");\n    const sumCalNext = document.getElementById(\"sumCalNext\");\n    function setVacMsg(msg) {\n        if (vacAdminMsg)\n            vacAdminMsg.textContent = msg;\n    }\n    if (!panel || !distanceTbodyEl) {\n        console.warn(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] í•„ìˆ˜ DOM(panel-ì¶œì¥ì—…ë¬´-ê´€ë¦¬, distanceTbody) ì—†ìŒ\");\n        return;\n    }\n    if (panel._bound) {\n        console.debug(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ì´ë¯¸ ì´ˆê¸°í™”ë¨, ì¬ë°”ì¸ë”© ì•ˆí•¨\");\n        return;\n    }\n    panel._bound = true;\n    const distanceTbody = distanceTbodyEl;\n    let distanceRows = [];\n    let deletedIds = [];\n    // =====================================================\n    // âœ… ë‹¹ì§ í›„ë³´/ìˆœë²ˆ/ë§ˆì§€ë§‰ìƒì„± ì €ì¥ ìƒíƒœ\n    // =====================================================\n    let dutyMembers = [];\n    let dutyStartIndex = 0;\n    // âœ… F5 ë³µì›ì„ ìœ„í•´ \"ë§ˆì§€ë§‰ ìƒì„± ê²°ê³¼\"ë„ ì €ì¥í•´ë‘ \n    let dutyLastYm = \"\"; // \"2026-01\"\n    let dutyLastAssigns = [];\n    // =====================================================\n    // âœ… ìš”ì•½ ìº˜ë¦°ë” ìƒíƒœ\n    // =====================================================\n    let sumYear = new Date().getFullYear();\n    let sumMonth = new Date().getMonth(); // 0~11\n    let cachedVacations = [];\n    let cachedHolidays = []; // âœ… ì¶”ê°€\n    let cachedDutyPreviewYm = \"\"; // âœ… ì¶”ê°€\n    let cachedDutyPreviewAssigns = []; // âœ… ì¶”ê°€\n    async function fetchVacationsAll() {\n        try {\n            const res = await fetch(`${API_BASE}/api/business-master/vacations`, { credentials: \"include\" });\n            const json = await res.json().catch(() => null);\n            if (!res.ok || json?.ok !== true)\n                return [];\n            return Array.isArray(json.items) ? json.items : [];\n        }\n        catch {\n            return [];\n        }\n    }\n    function renderSummaryCalendar() {\n        if (!sumCalGrid || !sumCalLabel)\n            return; // âœ… HTML ì—†ìœ¼ë©´ ìŠ¤í‚µ\n        const base = new Date(sumYear, sumMonth, 1);\n        const y = base.getFullYear();\n        const m = base.getMonth();\n        const viewingYm = `${y}-${pad2(m + 1)}`;\n        sumCalLabel.textContent = viewingYm;\n        sumCalGrid.innerHTML = \"\";\n        const first = new Date(y, m, 1);\n        const lastDate = new Date(y, m + 1, 0).getDate();\n        const startWeekday = first.getDay(); // 0(ì¼)~6(í† )\n        // âœ… ë‚ ì§œë³„ ì´ë²¤íŠ¸ ë§µ ë§Œë“¤ê¸°\n        const vacMap = buildVacationEvents(cachedVacations);\n        // âœ… ë‹¹ì§ì€ \"ë§ˆì§€ë§‰ ìƒì„±ì›”\"ë§Œ í‘œì‹œ\n        let dutyMap = new Map();\n        if (dutyLastYm === viewingYm && Array.isArray(dutyLastAssigns)) {\n            dutyMap = buildDutyEvents(dutyLastAssigns);\n        }\n        // ============================\n        // âœ… í‘œì‹œ ì œí•œ ì„¤ì • (ì—¬ê¸° ìˆ«ìë§Œ ë°”ê¾¸ë©´ ë¨)\n        // ============================\n        const MAX_VAC_LINES = 1; // íœ´ê°€: ì¹¸ì— 2ëª…ê¹Œì§€ë§Œ í‘œì‹œ\n        const MAX_DUTY_LINES = 1; // ë‹¹ì§: ì¹¸ì— 1ëª…ë§Œ í‘œì‹œ\n        function openDayDetail(dateStr, vacs, duties) {\n            const modal = document.getElementById(\"sumCalModal\");\n            const title = document.getElementById(\"sumCalModalTitle\");\n            const body = document.getElementById(\"sumCalModalBody\");\n            const btnClose = document.getElementById(\"sumCalModalClose\");\n            const btnOk = document.getElementById(\"sumCalModalOk\");\n            if (!modal || !title || !body) {\n                // ëª¨ë‹¬ HTML ì—†ìœ¼ë©´ fallback\n                const lines = [];\n                lines.push(`[${dateStr}]`);\n                if (vacs.length) {\n                    lines.push(\"\");\n                    lines.push(`íœ´ê°€ (${vacs.length})`);\n                    for (const v of vacs)\n                        lines.push(`- ${v.text}`);\n                }\n                if (duties.length) {\n                    lines.push(\"\");\n                    lines.push(`ë‹¹ì§ (${duties.length})`);\n                    for (const d of duties)\n                        lines.push(`- ${d.text}`);\n                }\n                alert(lines.join(\"\\n\"));\n                return;\n            }\n            title.textContent = `${dateStr} ìƒì„¸`;\n            const vacHtml = vacs.length\n                ? `\n      <div class=\"border rounded-xl overflow-hidden\">\n        <div class=\"px-3 py-2 bg-amber-50 text-amber-800 font-bold text-xs border-b\">íœ´ê°€ (${vacs.length})</div>\n        <div class=\"p-3 space-y-2\">\n          ${vacs\n                    .map((v) => `\n              <div class=\"px-2 py-1 rounded-lg bg-amber-50 text-amber-800 text-xs\">\n                íœ´ê°€ ${escapeHtml(v.text)}\n              </div>\n            `)\n                    .join(\"\")}\n        </div>\n      </div>\n    `\n                : \"\";\n            const dutyHtml = duties.length\n                ? `\n      <div class=\"border rounded-xl overflow-hidden\">\n        <div class=\"px-3 py-2 bg-indigo-50 text-indigo-800 font-bold text-xs border-b\">ë‹¹ì§ (${duties.length})</div>\n        <div class=\"p-3 space-y-2\">\n          ${duties\n                    .map((d) => `\n              <div class=\"px-2 py-1 rounded-lg bg-indigo-50 text-indigo-800 text-xs\">\n                ë‹¹ì§ ${escapeHtml(d.text)}\n              </div>\n            `)\n                    .join(\"\")}\n        </div>\n      </div>\n    `\n                : \"\";\n            body.innerHTML =\n                vacHtml ||\n                    dutyHtml ||\n                    `<div class=\"text-xs text-gray-500 text-center py-6\">í‘œì‹œí•  ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.</div>`;\n            const close = () => {\n                modal.classList.add(\"hidden\");\n            };\n            // âœ… ì´ë²¤íŠ¸ ì¤‘ë³µë°©ì§€: ê¸°ì¡´ í•¸ë“¤ëŸ¬ë¥¼ ë®ì–´ì”€\n            if (btnClose)\n                btnClose.onclick = close;\n            if (btnOk)\n                btnOk.onclick = close;\n            // ë°”ê¹¥ ë°°ê²½ í´ë¦­ ì‹œ ë‹«ê¸°\n            modal.onclick = (e) => {\n                const t = e.target;\n                if (!t)\n                    return;\n                if (t === modal)\n                    close();\n                if (t.classList && t.classList.contains(\"bg-black/40\"))\n                    close();\n            };\n            modal.classList.remove(\"hidden\");\n        }\n        function makeLine(kind, text) {\n            const div = document.createElement(\"div\");\n            // âœ… truncate ì œê±°: ì´ì¬â€¦/ê¶Œíƒâ€¦ ì›ì¸\n            // âœ… ê¸€ìëŠ” ì¤„ë°”ê¿ˆ í—ˆìš©(ì…€ ë†’ì´ëŠ” ê·¸ëŒ€ë¡œë¼ ë„˜ì¹˜ë©´ ì•„ë˜ì—ì„œ ì˜ë¦¼/ìŠ¤í¬ë¡¤ë¡œ ì œì–´ ê°€ëŠ¥)\n            div.className =\n                kind === \"VACATION\"\n                    ? \"px-1.5 py-0.5 rounded bg-amber-50 text-amber-800 text-[10px] leading-tight whitespace-normal break-keep\"\n                    : \"px-1.5 py-0.5 rounded bg-indigo-50 text-indigo-800 text-[10px] leading-tight whitespace-normal break-keep\";\n            div.textContent = (kind === \"VACATION\" ? \"íœ´ê°€ \" : \"ë‹¹ì§ \") + text;\n            return div;\n        }\n        function makeMore(kind, moreCount, onClick) {\n            const div = document.createElement(\"div\");\n            div.className =\n                kind === \"VACATION\"\n                    ? \"text-[10px] text-amber-700 underline cursor-pointer select-none\"\n                    : \"text-[10px] text-indigo-700 underline cursor-pointer select-none\";\n            div.textContent = `+${moreCount}ëª… ë”ë³´ê¸°`;\n            div.addEventListener(\"click\", (e) => {\n                e.stopPropagation();\n                onClick();\n            });\n            return div;\n        }\n        // ============================\n        // âœ… ì• ë¹ˆì¹¸(ì´ì „ë‹¬ ì—¬ë°±)\n        // ============================\n        for (let i = 0; i < startWeekday; i++) {\n            const cell = document.createElement(\"div\");\n            cell.className = \"min-h-[90px] border-r border-b bg-gray-50/60\";\n            sumCalGrid.appendChild(cell);\n        }\n        // ============================\n        // âœ… ë‚ ì§œ ì…€\n        // ============================\n        for (let day = 1; day <= lastDate; day++) {\n            const ds = `${y}-${pad2(m + 1)}-${pad2(day)}`;\n            const vacs = vacMap.get(ds) ?? [];\n            const duties = dutyMap.get(ds) ?? [];\n            const cell = document.createElement(\"div\");\n            cell.className = \"min-h-[90px] border-r border-b p-1 overflow-hidden\";\n            cell.dataset.date = ds;\n            // ë‚ ì§œ ìˆ«ì\n            const dateDiv = document.createElement(\"div\");\n            dateDiv.className = \"text-[11px] font-bold mb-1\";\n            dateDiv.textContent = String(day);\n            // ì´ë²¤íŠ¸ ë°•ìŠ¤\n            const evBox = document.createElement(\"div\");\n            evBox.className = \"flex flex-col gap-1\";\n            // âœ… íœ´ê°€: ì¼ë¶€ë§Œ í‘œì‹œ + ë”ë³´ê¸°\n            if (vacs.length) {\n                const show = vacs.slice(0, MAX_VAC_LINES);\n                for (const v of show)\n                    evBox.appendChild(makeLine(\"VACATION\", v.text));\n                if (vacs.length > MAX_VAC_LINES) {\n                    evBox.appendChild(makeMore(\"VACATION\", vacs.length - MAX_VAC_LINES, () => openDayDetail(ds, vacs, duties)));\n                }\n            }\n            // âœ… ë‹¹ì§: ì¼ë¶€ë§Œ í‘œì‹œ + ë”ë³´ê¸°\n            if (duties.length) {\n                const show = duties.slice(0, MAX_DUTY_LINES);\n                for (const d of show)\n                    evBox.appendChild(makeLine(\"DUTY\", d.text));\n                if (duties.length > MAX_DUTY_LINES) {\n                    evBox.appendChild(makeMore(\"DUTY\", duties.length - MAX_DUTY_LINES, () => openDayDetail(ds, vacs, duties)));\n                }\n            }\n            // âœ… ì…€ ìì²´ í´ë¦­í•˜ë©´ ê·¸ ë‚ ì§œ ìƒì„¸(íœ´ê°€/ë‹¹ì§ ì „ì²´) ë³´ì—¬ì£¼ê¸°\n            cell.addEventListener(\"click\", () => {\n                if (!vacs.length && !duties.length)\n                    return;\n                openDayDetail(ds, vacs, duties);\n            });\n            cell.appendChild(dateDiv);\n            cell.appendChild(evBox);\n            sumCalGrid.appendChild(cell);\n        }\n        // âœ… ë§ˆì§€ë§‰ ì¤„ì´ 7ì¹¸ì´ ë˜ë„ë¡ ë’¤ ë¹ˆì¹¸ ì±„ìš°ê¸°(í…Œë‘ë¦¬ ê¹¨ì§ ë°©ì§€)\n        const totalCells = startWeekday + lastDate;\n        const remain = (7 - (totalCells % 7)) % 7;\n        for (let i = 0; i < remain; i++) {\n            const cell = document.createElement(\"div\");\n            cell.className = \"min-h-[90px] border-r border-b bg-gray-50/30\";\n            sumCalGrid.appendChild(cell);\n        }\n    }\n    async function refreshSummaryCalendar() {\n        if (!sumCalGrid || !sumCalLabel)\n            return; // âœ… HTML ì—†ìœ¼ë©´ ìŠ¤í‚µ\n        cachedVacations = await fetchVacationsAll();\n        renderSummaryCalendar();\n    }\n    function renderDutyMembers() {\n        if (!dutyTbody)\n            return;\n        if (!dutyMembers.length) {\n            dutyTbody.innerHTML = `\n        <tr>\n          <td colspan=\"3\" class=\"border px-2 py-2 text-center text-gray-400\">\n            í›„ë³´ ì¸ì›ì´ ì—†ìŠµë‹ˆë‹¤. (ì‚¬ìš©ìê´€ë¦¬ì— ë¨¼ì € ë“±ë¡í•˜ì„¸ìš”)\n          </td>\n        </tr>\n      `;\n            return;\n        }\n        dutyTbody.innerHTML = \"\";\n        dutyMembers.forEach((m, idx) => {\n            const tr = document.createElement(\"tr\");\n            tr.dataset.idx = String(idx);\n            tr.innerHTML = `\n        <td class=\"border-b px-2 py-2 text-center text-[11px]\">${idx + 1}</td>\n        <td class=\"border-b px-2 py-2 text-xs\">${m.name}</td>\n        <td class=\"border-b px-2 py-2 text-center\">\n          <button type=\"button\"\n            class=\"px-2 py-1 text-[11px] rounded-lg bg-red-100 text-red-700 hover:bg-red-200 btn-duty-delete\">\n            ì‚­ì œ\n          </button>\n        </td>\n      `;\n            dutyTbody.appendChild(tr);\n        });\n    }\n    async function loadDutyMembersFromUsers() {\n        if (!dutyTbody)\n            return;\n        dutyTbody.innerHTML = `\n      <tr>\n        <td colspan=\"3\" class=\"border px-2 py-2 text-center text-gray-400\">\n          ì‚¬ìš©ì ëª©ë¡ ë¡œë”© ì¤‘...\n        </td>\n      </tr>\n    `;\n        try {\n            const res = await fetch(`${API_BASE}/api/users`, { credentials: \"include\" });\n            if (!res.ok) {\n                dutyTbody.innerHTML = `\n          <tr>\n            <td colspan=\"3\" class=\"border px-2 py-2 text-center text-red-500\">\n              ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨ (status ${res.status})\n            </td>\n          </tr>\n        `;\n                return;\n            }\n            const rows = await res.json();\n            dutyMembers = Array.isArray(rows)\n                ? rows\n                    .map((u) => ({\n                    no: Number(u.no ?? 0),\n                    name: String(u.name ?? u.Name ?? \"\").trim(),\n                }))\n                    .filter((u) => u.no > 0 && u.name)\n                    .sort((a, b) => a.no - b.no)\n                : [];\n            if (dutyMembers.length === 0)\n                dutyStartIndex = 0;\n            else\n                dutyStartIndex = dutyStartIndex % dutyMembers.length;\n            renderDutyMembers();\n        }\n        catch (err) {\n            console.error(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ì‚¬ìš©ì ëª©ë¡ ë¡œë”© ì˜¤ë¥˜:\", err);\n            dutyTbody.innerHTML = `\n        <tr>\n          <td colspan=\"3\" class=\"border px-2 py-2 text-center text-red-500\">\n            ì‚¬ìš©ì ëª©ë¡ ë¡œë”© ì¤‘ ì˜¤ë¥˜\n          </td>\n        </tr>\n      `;\n        }\n    }\n    // =====================================================\n    // âœ… íœ´ê°€ì: ì‚¬ìš©ì ì˜µì…˜ ë¡œë”©\n    // =====================================================\n    async function loadVacUserOptions() {\n        if (!vacUserSelect)\n            return;\n        try {\n            const res = await fetch(`${API_BASE}/api/users`, { credentials: \"include\" });\n            const rows = await res.json().catch(() => []);\n            const list = Array.isArray(rows) ? rows : [];\n            const users = list\n                .map((u) => ({\n                no: Number(u.no ?? u.No ?? 0),\n                name: String(u.name ?? u.Name ?? \"\").trim(),\n            }))\n                .filter((u) => u.no > 0 && u.name)\n                .sort((a, b) => a.no - b.no);\n            vacUserSelect.innerHTML =\n                `<option value=\"\">ì„ íƒ</option>` +\n                    users\n                        .map((u) => `<option value=\"${u.no}\" data-name=\"${escapeHtml(u.name)}\">${escapeHtml(u.name)}</option>`)\n                        .join(\"\");\n        }\n        catch (e) {\n            console.error(\"[vac] load users err:\", e);\n            setVacMsg(\"ì‚¬ìš©ì ëª©ë¡ ë¡œë”© ì‹¤íŒ¨\");\n        }\n    }\n    // =====================================================\n    // âœ… íœ´ê°€ì: ëª©ë¡ ë Œë”/ë¡œë“œ\n    // =====================================================\n    async function loadVacationList() {\n        if (!vacationAdminTbody)\n            return;\n        vacationAdminTbody.innerHTML = `\n      <tr><td colspan=\"6\" class=\"border-b px-2 py-3 text-center text-gray-400\">ë¡œë”© ì¤‘...</td></tr>\n    `;\n        try {\n            const res = await fetch(`${API_BASE}/api/business-master/vacations`, { credentials: \"include\" });\n            const json = await res.json().catch(() => null);\n            if (!res.ok || json?.ok !== true) {\n                vacationAdminTbody.innerHTML = `\n          <tr><td colspan=\"6\" class=\"border-b px-2 py-3 text-center text-red-500\">íœ´ê°€ ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨</td></tr>\n        `;\n                return;\n            }\n            const items = Array.isArray(json.items) ? json.items : [];\n            if (!items.length) {\n                vacationAdminTbody.innerHTML = `\n          <tr><td colspan=\"6\" class=\"border-b px-2 py-3 text-center text-gray-400\">ë“±ë¡ëœ íœ´ê°€ê°€ ì—†ìŠµë‹ˆë‹¤.</td></tr>\n        `;\n                return;\n            }\n            vacationAdminTbody.innerHTML = items\n                .map((it, idx) => {\n                return `\n            <tr class=\"hover:bg-gray-50\">\n              <td class=\"border-b px-2 py-2 text-center\">${idx + 1}</td>\n              <td class=\"border-b px-2 py-2 text-center\">${escapeHtml(it.user_name)}</td>\n              <td class=\"border-b px-2 py-2 text-center\">${vacTypeLabel(it.vac_type)}</td>\n              <td class=\"border-b px-2 py-2 text-center\">${escapeHtml(it.start_date)} ~ ${escapeHtml(it.end_date)}</td>\n              <td class=\"border-b px-2 py-2\">${escapeHtml(it.note ?? \"\")}</td>\n              <td class=\"border-b px-2 py-2 text-center\">\n                <button type=\"button\" data-id=\"${it.id}\"\n                  class=\"px-2 py-1 text-[11px] rounded-lg bg-red-100 text-red-700 hover:bg-red-200 vac-del-btn\">\n                  ì‚­ì œ\n                </button>\n              </td>\n            </tr>\n          `;\n            })\n                .join(\"\");\n        }\n        catch (e) {\n            console.error(\"[vac] load list err:\", e);\n            vacationAdminTbody.innerHTML = `\n        <tr><td colspan=\"6\" class=\"border-b px-2 py-3 text-center text-red-500\">íœ´ê°€ ëª©ë¡ ë¡œë”© ì˜¤ë¥˜</td></tr>\n      `;\n        }\n    }\n    // =====================================================\n    // âœ… íœ´ê°€ì: ë“±ë¡\n    // =====================================================\n    async function addVacation() {\n        if (!vacUserSelect || !vacTypeSelect || !vacFrom || !vacTo)\n            return;\n        const user_no = vacUserSelect.value ? Number(vacUserSelect.value) : null;\n        const opt = vacUserSelect.options[vacUserSelect.selectedIndex];\n        const user_name = opt?.getAttribute(\"data-name\") || opt?.textContent || \"\";\n        const vac_type = String(vacTypeSelect.value || \"annual\");\n        const start_date = String(vacFrom.value || \"\");\n        const end_date = String(vacTo.value || \"\");\n        const note = String(vacNote?.value || \"\");\n        if (!user_no || !user_name)\n            return setVacMsg(\"ëŒ€ìƒì„ ì„ íƒí•˜ì„¸ìš”.\");\n        if (!start_date || !end_date)\n            return setVacMsg(\"ì‹œì‘ì¼/ì¢…ë£Œì¼ì„ ì…ë ¥í•˜ì„¸ìš”.\");\n        if (start_date > end_date)\n            return setVacMsg(\"ì‹œì‘ì¼ì´ ì¢…ë£Œì¼ë³´ë‹¤ í´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n        try {\n            const res = await fetch(`${API_BASE}/api/business-master/vacations`, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ user_no, user_name, vac_type, start_date, end_date, note }),\n            });\n            const json = await res.json().catch(() => null);\n            if (!res.ok || json?.ok !== true) {\n                setVacMsg(json?.error || \"íœ´ê°€ ë“±ë¡ ì‹¤íŒ¨\");\n                return;\n            }\n            setVacMsg(\"ë“±ë¡ ì™„ë£Œ\");\n            if (vacNote)\n                vacNote.value = \"\";\n            await loadVacationList();\n            // âœ… ëŒ€ì‹œë³´ë“œ ì¦‰ì‹œ ê°±ì‹  ì´ë²¤íŠ¸\n            window.dispatchEvent(new CustomEvent(\"vacation-status-refresh\"));\n            // âœ… ìš”ì•½ ìº˜ë¦°ë”ë„ ì¦‰ì‹œ ê°±ì‹ \n            refreshSummaryCalendar();\n        }\n        catch (e) {\n            console.error(\"[vac] add err:\", e);\n            setVacMsg(\"íœ´ê°€ ë“±ë¡ ì¤‘ ì˜¤ë¥˜\");\n        }\n    }\n    // =====================================================\n    // âœ… ê³µíœ´ì¼ API + ì£¼ë§ í•©ì³ì„œ â€œíœ´ì¼ ë¦¬ìŠ¤íŠ¸â€\n    // =====================================================\n    async function fetchHolidayItemsForMonth(base) {\n        const year = String(base.getFullYear());\n        const month = pad2(base.getMonth() + 1);\n        const days = getAllDaysOfMonth(base);\n        const weekend = days\n            .map((d) => ymd(d))\n            .filter((ds) => isWeekend(ds))\n            .map((ds) => ({\n            date: ds,\n            dow: getDowKr(ds),\n            type: \"ì£¼ë§\",\n        }));\n        let apiHolidays = [];\n        try {\n            const res = await fetch(`${API_BASE}/api/business-master/holidays?year=${year}&month=${month}`, {\n                credentials: \"include\",\n            });\n            const json = await res.json().catch(() => null);\n            if (res.ok && json?.ok === true) {\n                const list = Array.isArray(json.holidays) ? json.holidays : [];\n                apiHolidays = list\n                    .filter((h) => h && h.date)\n                    .map((h) => {\n                    const ds = parseLocdateToYmd(String(h.date));\n                    if (!ds)\n                        return null;\n                    return {\n                        date: ds,\n                        dow: getDowKr(ds),\n                        type: \"ê³µíœ´ì¼\",\n                        holidayName: String(h.name ?? \"\").trim() || undefined,\n                    };\n                })\n                    .filter(Boolean);\n            }\n        }\n        catch (e) {\n            console.warn(\"[íœ´ì¼] ê³µíœ´ì¼ API ì‹¤íŒ¨(ì£¼ë§ë§Œìœ¼ë¡œ ì§„í–‰):\", e);\n        }\n        const map = new Map();\n        weekend.forEach((w) => map.set(w.date, w));\n        apiHolidays.forEach((h) => map.set(h.date, h));\n        return Array.from(map.values()).sort((a, b) => a.date.localeCompare(b.date));\n    }\n    // =====================================================\n    // âœ… â€œì´ë²ˆë‹¬â€ ë‹¹ì§ ìë™ ìƒì„± (íœ´ì¼ë§Œ)\n    // =====================================================\n    async function generateDutyForCurrentMonth() {\n        if (!dutyMembers.length) {\n            alert(\"ë‹¹ì§ í›„ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ì‚¬ìš©ìê´€ë¦¬ì—ì„œ ë¨¼ì € ë“±ë¡í•˜ì„¸ìš”.\");\n            return;\n        }\n        const base = new Date();\n        base.setDate(1);\n        const holidays = await fetchHolidayItemsForMonth(base);\n        if (!holidays.length) {\n            alert(\"ì´ë²ˆ ë‹¬ì— íœ´ì¼(ì£¼ë§/ê³µíœ´ì¼)ì´ ì—†ìŠµë‹ˆë‹¤. (í‘œì‹œí•  ë°ì´í„° ì—†ìŒ)\");\n            renderDutyTable([]);\n            renderDashboardHolidayDuty([], {});\n            return;\n        }\n        const assigns = [];\n        const assignsMap = {};\n        let idx = dutyStartIndex;\n        for (const h of holidays) {\n            const name = dutyMembers[idx].name;\n            assigns.push({ date: h.date, name });\n            assignsMap[h.date] = name;\n            idx = (idx + 1) % dutyMembers.length;\n        }\n        dutyStartIndex = idx;\n        // âœ… F5 ë³µì›ì„ ìœ„í•œ \"ë§ˆì§€ë§‰ ìƒì„± ê²°ê³¼\" ì €ì¥\n        dutyLastYm = ym(base);\n        dutyLastAssigns = assigns;\n        if (dutyResultBox) {\n            const first = assigns[0];\n            const last = assigns[assigns.length - 1];\n            dutyResultBox.innerHTML = `\n        - ìƒì„± ì›”: ${ym(base)}<br/>\n        - íœ´ì¼ ìˆ˜(ì£¼ë§+ê³µíœ´ì¼): ${assigns.length}ì¼<br/>\n        - ì‹œì‘: ${first.date} (${first.name})<br/>\n        - ë§ˆì§€ë§‰: ${last.date} (${last.name})<br/>\n        - ë‹¤ìŒ ì‹œì‘ë²ˆí˜¸(ìë™): ${dutyStartIndex + 1}ë²ˆ\n      `;\n        }\n        renderDutyTable(assigns);\n        renderDashboardHolidayDuty(holidays, assignsMap);\n        // âœ… ìƒì„± í›„ ì €ì¥(ìˆœë²ˆ + ë§ˆì§€ë§‰ìƒì„±ê²°ê³¼ê¹Œì§€ ì €ì¥)\n        await saveConfig(true);\n        // âœ… ìš”ì•½ ìº˜ë¦°ë”ë„ ì¦‰ì‹œ ê°±ì‹ \n        refreshSummaryCalendar();\n        alert(\"ì´ë²ˆë‹¬ íœ´ì¼(ì£¼ë§+ê³µíœ´ì¼) ê¸°ì¤€ìœ¼ë¡œ ë‹¹ì§ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\");\n    }\n    // =====================================================\n    // âœ… ì„¤ì • ë¡œë”©/ì €ì¥\n    // =====================================================\n    async function loadConfig() {\n        try {\n            const res = await fetch(`${API_BASE}/api/business-master/config`, { credentials: \"include\" });\n            if (!res.ok) {\n                console.error(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ì„¤ì • ì¡°íšŒ ì‹¤íŒ¨ status =\", res.status);\n                return;\n            }\n            const data = (await res.json());\n            const gasoline = data.fuel_price_gasoline ?? data.fuel_price_per_liter ?? null;\n            const diesel = data.fuel_price_diesel ?? null;\n            const lpg = data.fuel_price_lpg ?? null;\n            if (inputFuelGasoline)\n                inputFuelGasoline.value = gasoline?.toString() ?? \"\";\n            if (inputFuelDiesel)\n                inputFuelDiesel.value = diesel?.toString() ?? \"\";\n            if (inputFuelGas)\n                inputFuelGas.value = lpg?.toString() ?? \"\";\n            if (inputUsd)\n                inputUsd.value = data.exchange_rate_usd?.toString() ?? \"\";\n            if (inputJpy)\n                inputJpy.value = data.exchange_rate_jpy?.toString() ?? \"\";\n            if (inputCny)\n                inputCny.value = data.exchange_rate_cny?.toString() ?? \"\";\n            if (textareaNotice)\n                textareaNotice.value = data.notice ?? data.note ?? \"\";\n            // âœ… duty_members_text ë³µì›(startIndex + lastAssigns)\n            const rawDutyText = String(data.duty_members_text ?? \"\");\n            if (rawDutyText) {\n                try {\n                    const parsed = JSON.parse(rawDutyText);\n                    if (typeof parsed?.startIndex === \"number\")\n                        dutyStartIndex = parsed.startIndex;\n                    if (typeof parsed?.lastYm === \"string\")\n                        dutyLastYm = parsed.lastYm;\n                    if (Array.isArray(parsed?.lastAssigns)) {\n                        dutyLastAssigns = parsed.lastAssigns\n                            .map((a) => ({\n                            date: String(a?.date ?? \"\"),\n                            name: String(a?.name ?? \"\"),\n                        }))\n                            .filter((a) => /^\\d{4}-\\d{2}-\\d{2}$/.test(a.date) && !!a.name);\n                    }\n                }\n                catch {\n                    // ë¬´ì‹œ\n                }\n            }\n            if (dutyResultBox) {\n                dutyResultBox.textContent = \"- 'ë‹¹ì§ ìë™ ìƒì„±'ì„ ëˆ„ë¥´ë©´ ì´ë²ˆë‹¬ íœ´ì¼(ì£¼ë§+ê³µíœ´ì¼)ì—ë§Œ ìë™ ë°°ì •ë©ë‹ˆë‹¤.\";\n            }\n            // âœ… ì €ì¥ëœ ë§ˆì§€ë§‰ ê²°ê³¼ê°€ ìˆìœ¼ë©´ F5 í›„ì—ë„ í‘œ ë³µì›\n            if (dutyLastAssigns.length) {\n                renderDutyTable(dutyLastAssigns);\n            }\n            else {\n                renderDutyTable([]);\n            }\n            // âœ… ìš”ì•½ ìº˜ë¦°ë”: config ë¡œë“œ í›„ì—ë„ ê·¸ë¦¬ê¸°(ë‹¹ì§ lastYm/lastAssigns ë°˜ì˜)\n            renderSummaryCalendar();\n        }\n        catch (err) {\n            console.error(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ì„¤ì • ì¡°íšŒ ì¤‘ ì˜¤ë¥˜:\", err);\n        }\n    }\n    async function saveConfig(forceSilent = false) {\n        // âœ… startIndex + ë§ˆì§€ë§‰ìƒì„±ê²°ê³¼ê¹Œì§€ ê°™ì´ ì €ì¥\n        const dutyStore = JSON.stringify({\n            startIndex: dutyStartIndex,\n            lastYm: dutyLastYm,\n            lastAssigns: dutyLastAssigns,\n            updatedAt: new Date().toISOString(),\n        });\n        const body = {\n            fuel_price_gasoline: parseNumberOrNull(inputFuelGasoline?.value ?? \"\"),\n            fuel_price_diesel: parseNumberOrNull(inputFuelDiesel?.value ?? \"\"),\n            fuel_price_lpg: parseNumberOrNull(inputFuelGas?.value ?? \"\"),\n            exchange_rate_usd: parseNumberOrNull(inputUsd?.value ?? \"\"),\n            exchange_rate_jpy: parseNumberOrNull(inputJpy?.value ?? \"\"),\n            exchange_rate_cny: parseNumberOrNull(inputCny?.value ?? \"\"),\n            duty_members_text: dutyStore,\n            notice: textareaNotice?.value ?? \"\",\n        };\n        try {\n            const res = await fetch(`${API_BASE}/api/business-master/config`, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(body),\n            });\n            const json = await res.json().catch(() => ({}));\n            if (!res.ok || json?.ok === false) {\n                console.error(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ì„¤ì • ì €ì¥ ì‹¤íŒ¨ status =\", res.status, json);\n                if (!forceSilent)\n                    alert(json?.error || \"ì„¤ì • ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n                return;\n            }\n            if (!forceSilent)\n                alert(\"ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\");\n        }\n        catch (err) {\n            console.error(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ì„¤ì • ì €ì¥ ì¤‘ ì˜¤ë¥˜:\", err);\n            if (!forceSilent)\n                alert(\"ì„¤ì • ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n        }\n    }\n    // =====================================================\n    // âœ… ê±°ë¦¬ ë§ˆìŠ¤í„° ë¡œë”©/í‘œì‹œ\n    // =====================================================\n    async function loadDistances() {\n        distanceTbody.innerHTML = `\n      <tr>\n        <td colspan=\"6\" class=\"border px-2 py-2 text-center text-xs text-gray-400\">\n          ê±°ë¦¬ ëª©ë¡ ë¡œë”© ì¤‘...\n        </td>\n      </tr>\n    `;\n        try {\n            const res = await fetch(`${API_BASE}/api/business-master/distances`, { credentials: \"include\" });\n            if (!res.ok) {\n                console.error(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ê±°ë¦¬ ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨ status =\", res.status);\n                return;\n            }\n            const rows = await res.json();\n            distanceRows = Array.isArray(rows) ? rows.map(mapRawDistance) : [];\n            deletedIds = [];\n            renderDistanceTable();\n        }\n        catch (err) {\n            console.error(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ê±°ë¦¬ ëª©ë¡ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜:\", err);\n        }\n    }\n    function renderDistanceTable() {\n        distanceTbody.innerHTML = \"\";\n        if (!distanceRows.length) {\n            distanceTbody.innerHTML = `\n        <tr>\n          <td colspan=\"6\" class=\"border px-2 py-2 text-center text-xs text-gray-400\">\n            ë“±ë¡ëœ ê±°ë¦¬ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. [+ í–‰ ì¶”ê°€] ë²„íŠ¼ìœ¼ë¡œ ì¶”ê°€í•˜ì„¸ìš”.\n          </td>\n        </tr>\n      `;\n            return;\n        }\n        distanceRows.forEach((row, index) => {\n            const tr = document.createElement(\"tr\");\n            tr.dataset.index = String(index);\n            tr.innerHTML = `\n        <td class=\"border-b px-2 py-2 text-center text-[11px]\">${index + 1}</td>\n        <td class=\"border-b px-2 py-2\">\n          <input type=\"text\"\n            class=\"w-full border rounded-xl px-2 py-2 text-xs region-input bg-white\"\n            value=\"${escapeHtml(row.region ?? \"\")}\" />\n        </td>\n        <td class=\"border-b px-2 py-2\">\n          <input type=\"text\"\n            class=\"w-full border rounded-xl px-2 py-2 text-xs client-input bg-white\"\n            value=\"${escapeHtml(row.client_name ?? \"\")}\" />\n        </td>\n        <td class=\"border-b px-2 py-2\">\n          <input type=\"number\" step=\"0.1\"\n            class=\"w-full border rounded-xl px-2 py-2 text-right text-xs distance-km-input bg-white\"\n            placeholder=\"km\"\n            value=\"${row.distance_km ?? \"\"}\" />\n        </td>\n        <td class=\"border-b px-2 py-2 text-center\">\n          <button type=\"button\"\n            class=\"px-2 py-1 text-[11px] rounded-lg bg-red-100 text-red-700 hover:bg-red-200 btn-row-delete\">\n            ì‚­ì œ\n          </button>\n        </td>\n      `;\n            distanceTbody.appendChild(tr);\n        });\n    }\n    function syncDistanceFromTable() {\n        const rows = distanceTbody.querySelectorAll(\"tr\");\n        rows.forEach((tr) => {\n            const idxStr = tr.dataset.index;\n            if (idxStr == null)\n                return;\n            const idx = Number(idxStr);\n            const row = distanceRows[idx];\n            if (!row)\n                return;\n            const regionInput = tr.querySelector(\".region-input\");\n            const clientInput = tr.querySelector(\".client-input\");\n            const distanceInput = tr.querySelector(\".distance-km-input\");\n            row.region = regionInput?.value?.trim() ?? \"\";\n            row.client_name = clientInput?.value?.trim() ?? \"\";\n            row.distance_km = parseNumberOrNull(distanceInput?.value ?? \"\");\n        });\n    }\n    async function saveDistances() {\n        syncDistanceFromTable();\n        for (const row of distanceRows) {\n            if (!row.client_name || row.distance_km == null) {\n                alert(\"ê±°ë˜ì²˜ì™€ ê±°ë¦¬(km)ëŠ” ë°˜ë“œì‹œ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.\");\n                return;\n            }\n        }\n        try {\n            for (const id of deletedIds) {\n                if (!id)\n                    continue;\n                const res = await fetch(`${API_BASE}/api/business-master/distances/${id}`, {\n                    method: \"DELETE\",\n                    credentials: \"include\",\n                });\n                if (!res.ok) {\n                    console.error(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ê±°ë¦¬ ì‚­ì œ ì‹¤íŒ¨ id=\", id, \"status=\", res.status);\n                }\n            }\n            deletedIds = [];\n            for (const row of distanceRows) {\n                const payload = {\n                    region: row.region,\n                    client_name: row.client_name,\n                    distance_km: row.distance_km,\n                };\n                if (row.id == null) {\n                    const res = await fetch(`${API_BASE}/api/business-master/distances`, {\n                        method: \"POST\",\n                        headers: { \"Content-Type\": \"application/json\" },\n                        body: JSON.stringify(payload),\n                    });\n                    if (!res.ok)\n                        console.error(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ê±°ë¦¬ ë“±ë¡ ì‹¤íŒ¨ status=\", res.status);\n                }\n                else {\n                    const res = await fetch(`${API_BASE}/api/business-master/distances/${row.id}`, {\n                        method: \"PUT\",\n                        headers: { \"Content-Type\": \"application/json\" },\n                        body: JSON.stringify(payload),\n                    });\n                    if (!res.ok)\n                        console.error(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ê±°ë¦¬ ìˆ˜ì • ì‹¤íŒ¨ id=\", row.id, \"status=\", res.status);\n                }\n            }\n            alert(\"ê±°ë¦¬ ë§ˆìŠ¤í„°ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\");\n            await loadDistances();\n        }\n        catch (err) {\n            console.error(\"[ì¶œì¥ì—…ë¬´ê´€ë¦¬] ê±°ë¦¬ ì €ì¥ ì¤‘ ì˜¤ë¥˜:\", err);\n            alert(\"ê±°ë¦¬ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n        }\n    }\n    function addEmptyRow() {\n        distanceRows.push({\n            id: null,\n            region: \"\",\n            client_name: \"\",\n            distance_km: null,\n        });\n        renderDistanceTable();\n    }\n    // =====================================================\n    // ì´ë²¤íŠ¸ ë°”ì¸ë”©\n    // =====================================================\n    btnConfigSave?.addEventListener(\"click\", () => saveConfig(false));\n    btnDistanceAddRow?.addEventListener(\"click\", () => addEmptyRow());\n    btnDistanceSave?.addEventListener(\"click\", () => saveDistances());\n    // âœ… íœ´ê°€ ë“±ë¡ ë²„íŠ¼\n    btnVacAdd?.addEventListener(\"click\", () => addVacation());\n    // âœ… íœ´ê°€ ì‚­ì œ(í…Œì´ë¸” í´ë¦­)\n    vacationAdminTbody?.addEventListener(\"click\", async (e) => {\n        const target = e.target;\n        if (!target?.classList.contains(\"vac-del-btn\"))\n            return;\n        const id = Number(target.dataset.id);\n        if (!Number.isFinite(id))\n            return;\n        try {\n            const res = await fetch(`${API_BASE}/api/business-master/vacations/${id}`, {\n                method: \"DELETE\",\n                credentials: \"include\",\n            });\n            const json = await res.json().catch(() => null);\n            if (!res.ok || json?.ok !== true) {\n                setVacMsg(json?.error || \"ì‚­ì œ ì‹¤íŒ¨\");\n                return;\n            }\n            setVacMsg(\"ì‚­ì œ ì™„ë£Œ\");\n            await loadVacationList();\n            window.dispatchEvent(new CustomEvent(\"vacation-status-refresh\"));\n            // âœ… ìš”ì•½ ìº˜ë¦°ë”ë„ ì¦‰ì‹œ ê°±ì‹ \n            refreshSummaryCalendar();\n        }\n        catch (err) {\n            console.error(\"[vac] delete err:\", err);\n            setVacMsg(\"ì‚­ì œ ì¤‘ ì˜¤ë¥˜\");\n        }\n    });\n    distanceTbody.addEventListener(\"click\", (e) => {\n        const target = e.target;\n        if (!target?.classList.contains(\"btn-row-delete\"))\n            return;\n        const tr = target.closest(\"tr\");\n        if (!tr)\n            return;\n        const idxStr = tr.dataset.index;\n        if (idxStr == null)\n            return;\n        const idx = Number(idxStr);\n        const row = distanceRows[idx];\n        if (!row)\n            return;\n        if (row.id != null)\n            deletedIds.push(row.id);\n        distanceRows.splice(idx, 1);\n        renderDistanceTable();\n    });\n    dutyTbody?.addEventListener(\"click\", (e) => {\n        const target = e.target;\n        if (!target?.classList.contains(\"btn-duty-delete\"))\n            return;\n        const tr = target.closest(\"tr\");\n        if (!tr)\n            return;\n        const idx = Number(tr.dataset.idx);\n        if (!Number.isFinite(idx))\n            return;\n        dutyMembers.splice(idx, 1);\n        if (dutyMembers.length === 0)\n            dutyStartIndex = 0;\n        else\n            dutyStartIndex = dutyStartIndex % dutyMembers.length;\n        renderDutyMembers();\n    });\n    btnDutyGenerateThisMonth?.addEventListener(\"click\", () => {\n        generateDutyForCurrentMonth();\n    });\n    // âœ… ìš”ì•½ ìº˜ë¦°ë” ì›” ì´ë™(HTML ìˆì„ ë•Œë§Œ)\n    sumCalPrev?.addEventListener(\"click\", () => {\n        sumMonth--;\n        if (sumMonth < 0) {\n            sumMonth = 11;\n            sumYear--;\n        }\n        renderSummaryCalendar();\n    });\n    sumCalNext?.addEventListener(\"click\", () => {\n        sumMonth++;\n        if (sumMonth > 11) {\n            sumMonth = 0;\n            sumYear++;\n        }\n        renderSummaryCalendar();\n    });\n    // =====================================================\n    // ì´ˆê¸° ë¡œë”©\n    // =====================================================\n    loadConfig().then(() => {\n        loadDutyMembersFromUsers();\n    });\n    loadDistances();\n    // âœ… íœ´ê°€ ì´ˆê¸° ë¡œë”©\n    loadVacUserOptions();\n    loadVacationList().then(() => {\n        // âœ… ìš”ì•½ ìº˜ë¦°ë” ì²« í‘œì‹œ\n        refreshSummaryCalendar();\n    });\n}\n","// TypeScript/workspace/08_domestic-trip-register.ts\nimport { ModalUtil } from \"./utils/ModalUtil\";\nfunction getEl(id) {\n    const el = document.getElementById(id);\n    if (!el)\n        throw new Error(`âŒ element not found: #${id}`);\n    return el;\n}\nexport function initDomesticTripRegisterPanel(API_BASE) {\n    const panel = document.getElementById(\"panel-êµ­ë‚´ì¶œì¥-ì¶œì¥ë“±ë¡\");\n    if (!panel)\n        return;\n    const saveBtn = getEl(\"reg_save\");\n    // ì´ë¯¸ ë°”ì¸ë”© ë˜ì—ˆìœ¼ë©´ ì¬ë°”ì¸ë”© ë°©ì§€\n    if (saveBtn._bound)\n        return;\n    saveBtn._bound = true;\n    const resetBtn = getEl(\"reg_reset\");\n    const resultBox = getEl(\"reg_result\");\n    // ğŸ”¹ ì´ì–´ì‘ì„± ë²„íŠ¼\n    const continueBtn = document.getElementById(\"reg_continue\");\n    // ğŸ”¹ ê°™ì€ íŒ¨ë„ ì•ˆì˜ ì •ì‚° ì‘ì„± ì„¹ì…˜ (ìˆ¨ê²¼ë‹¤ê°€ í¼ì¹  ì˜ì—­)\n    const settlementSection = document.getElementById(\"bt_settlement_section\");\n    const userNameEl = document.getElementById(\"userName\");\n    const reqNameInput = getEl(\"bt_req_name\");\n    const departPlaceInput = getEl(\"bt_place\");\n    const destinationInput = getEl(\"bt_destination\");\n    const startInput = getEl(\"bt_start\");\n    const departTimeInput = getEl(\"bt_depart_time\");\n    const arriveTimeInput = getEl(\"bt_arrive_time\");\n    const purposeInput = getEl(\"bt_purpose\");\n    // ìš”ì²­ì ìë™ ì±„ìš°ê¸°\n    reqNameInput.value = (userNameEl?.textContent ?? \"\").trim() || \"ì‚¬ìš©ì\";\n    // ì´ˆê¸°: ì´ì–´ì‘ì„± ë²„íŠ¼/ì •ì‚°ì„¹ì…˜ ìˆ¨ê¹€\n    if (continueBtn)\n        continueBtn.classList.add(\"hidden\");\n    if (settlementSection)\n        settlementSection.classList.add(\"hidden\");\n    // ğŸ”¹ í¼ ë¦¬ì…‹\n    resetBtn.addEventListener(\"click\", () => {\n        departPlaceInput.value = \"\";\n        destinationInput.value = \"\";\n        startInput.value = \"\";\n        departTimeInput.value = \"\";\n        arriveTimeInput.value = \"\";\n        purposeInput.value = \"\";\n        resultBox.textContent = \"\";\n        // ë¦¬ì…‹ ì‹œ ì´ì–´ì‘ì„± ë²„íŠ¼/ì •ì‚°ì˜ì—­ ìˆ¨ê¸°ê¸°\n        if (continueBtn)\n            continueBtn.classList.add(\"hidden\");\n        if (settlementSection)\n            settlementSection.classList.add(\"hidden\");\n    });\n    // ğŸ”¹ ì¶œì¥ ë“±ë¡\n    saveBtn.addEventListener(\"click\", async () => {\n        const payload = {\n            trip_type: \"domestic\",\n            req_name: reqNameInput.value.trim(),\n            depart_place: departPlaceInput.value.trim(),\n            destination: destinationInput.value.trim(),\n            start_date: startInput.value,\n            depart_time: departTimeInput.value,\n            arrive_time: arriveTimeInput.value,\n            purpose: purposeInput.value.trim(),\n        };\n        console.log(\"[REGISTER] payload =\", payload);\n        // í•„ìˆ˜ê°’ ì²´í¬ (ì´ì œ work_start_time ì—†ìŒ)\n        if (!payload.req_name ||\n            !payload.depart_place ||\n            !payload.destination ||\n            !payload.start_date ||\n            !payload.depart_time ||\n            !payload.arrive_time ||\n            !payload.purpose) {\n            await ModalUtil.show({\n                type: \"alert\",\n                title: \"ì…ë ¥ í™•ì¸\",\n                message: \"ëª¨ë“  í•­ëª©ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.\",\n                showOk: true,\n                showCancel: false,\n            });\n            return;\n        }\n        try {\n            saveBtn.disabled = true;\n            resultBox.textContent = \"ì„œë²„ì— ì €ì¥ ì¤‘...\";\n            const res = await fetch(`${API_BASE}/api/business-trip/domestic`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify(payload),\n            });\n            if (!res.ok) {\n                const text = await res.text();\n                console.error(\"ì¶œì¥ë“±ë¡ ì‹¤íŒ¨ ì‘ë‹µ:\", res.status, text);\n                resultBox.textContent = `âŒ ì„œë²„ ì €ì¥ ì‹¤íŒ¨: HTTP ${res.status}`;\n                await ModalUtil.show({\n                    type: \"alert\",\n                    title: \"ì €ì¥ ì‹¤íŒ¨\",\n                    message: `ì„œë²„ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\\n(HTTP ${res.status})`,\n                    showOk: true,\n                    showCancel: false,\n                });\n                if (continueBtn)\n                    continueBtn.classList.add(\"hidden\");\n                if (settlementSection)\n                    settlementSection.classList.add(\"hidden\");\n                return;\n            }\n            const data = await res.json().catch(() => null);\n            console.log(\"ì¶œì¥ë“±ë¡ ì„±ê³µ ì‘ë‹µ:\", data);\n            // ì •ì‚° í™”ë©´ì—ì„œ ì°¸ê³ í•  ì´ˆì•ˆ ì €ì¥\n            localStorage.setItem(\"domesticTripDraft\", JSON.stringify(payload));\n            resultBox.textContent = \"âœ… ì¶œì¥ ë“±ë¡ ì™„ë£Œ (ì„œë²„ ì €ì¥ ì™„ë£Œ)\";\n            await ModalUtil.show({\n                type: \"alert\",\n                title: \"ì €ì¥ ì™„ë£Œ\",\n                message: \"ì¶œì¥ ë“±ë¡ ë‚´ìš©ì´ ì„œë²„ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\\n[ì´ì–´ ì •ì‚° ì‘ì„±] ë²„íŠ¼ì„ ëˆŒëŸ¬ ì •ì‚°ì„ ì‘ì„±í•˜ì„¸ìš”.\",\n                showOk: true,\n                showCancel: false,\n            });\n            if (continueBtn)\n                continueBtn.classList.remove(\"hidden\");\n            if (settlementSection) {\n                settlementSection.classList.add(\"hidden\");\n            }\n            localStorage.setItem(\"settleTargetDate\", payload.start_date);\n            localStorage.setItem(\"settleTargetReqName\", payload.req_name);\n            window.dispatchEvent(new Event(\"trip-status-refresh\"));\n        }\n        catch (err) {\n            console.error(\"ì¶œì¥ë“±ë¡ ì¤‘ ì˜¤ë¥˜:\", err);\n            resultBox.textContent = `âŒ ì €ì¥ ì‹¤íŒ¨: ${err?.message ?? \"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜\"}`;\n            await ModalUtil.show({\n                type: \"alert\",\n                title: \"ì €ì¥ ì‹¤íŒ¨\",\n                message: resultBox.textContent,\n                showOk: true,\n                showCancel: false,\n            });\n            window.dispatchEvent(new Event(\"trip-status-refresh\"));\n            if (continueBtn)\n                continueBtn.classList.add(\"hidden\");\n            if (settlementSection)\n                settlementSection.classList.add(\"hidden\");\n        }\n        finally {\n            saveBtn.disabled = false;\n        }\n    });\n    // ğŸ”¹ ì´ì–´ì‘ì„± ë²„íŠ¼ í´ë¦­ â†’ ì •ì‚° ì„¹ì…˜ í¼ì¹˜ê¸°\n    continueBtn?.addEventListener(\"click\", () => {\n        const date = startInput.value;\n        const name = reqNameInput.value.trim();\n        if (date)\n            localStorage.setItem(\"settleTargetDate\", date);\n        if (name)\n            localStorage.setItem(\"settleTargetReqName\", name);\n        if (settlementSection) {\n            settlementSection.classList.remove(\"hidden\");\n            settlementSection.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n        }\n        resultBox.textContent = \"âœï¸ ì´ ì¶œì¥ê±´ì— ëŒ€í•œ ì •ì‚° ì •ë³´ë¥¼ ì•„ë˜ì—ì„œ ì´ì–´ì„œ ì‘ì„±í•˜ì„¸ìš”.\";\n    });\n}\n","// TypeScript/workspace/09_domestic-trip-settlement.ts\nimport { ModalUtil } from \"./utils/ModalUtil\";\nfunction getEl(id) {\n    const el = document.getElementById(id);\n    if (!el)\n        throw new Error(`âŒ element not found: #${id}`);\n    return el;\n}\nfunction getCheckedRadioValue(name) {\n    const checked = document.querySelector(`input[name=\"${name}\"]:checked`);\n    return checked?.value ?? \"\";\n}\n/**\n * êµ­ë‚´ì¶œì¥ ì •ì‚° ì…ë ¥ íŒ¨ë„ ì´ˆê¸°í™”\n * - 00_workspace.ts ì—ì„œ initDomesticTripSettlementPanel(API_BASE)ë¡œ í•œ ë²ˆë§Œ í˜¸ì¶œ\n */\nexport function initDomesticTripSettlementPanel(API_BASE) {\n    console.log(\"[ì •ì‚°] initDomesticTripSettlementPanel í˜¸ì¶œ\");\n    const section = document.getElementById(\"bt_settlement_section\");\n    if (!section) {\n        console.warn(\"[ì •ì‚°] #bt_settlement_section ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. HTML êµ¬ì¡°ë¥¼ í™•ì¸í•˜ì„¸ìš”.\");\n        return;\n    }\n    const saveBtn = getEl(\"bt_save\");\n    // ì¤‘ë³µ ë°”ì¸ë”© ë°©ì§€\n    if (saveBtn._bound) {\n        console.log(\"[ì •ì‚°] ì´ë¯¸ ë°”ì¸ë”©ëœ ìƒíƒœì´ë¯€ë¡œ ë‹¤ì‹œ ë°”ì¸ë”©í•˜ì§€ ì•ŠìŒ\");\n        return;\n    }\n    saveBtn._bound = true;\n    const resetBtn = getEl(\"bt_reset\");\n    const resultBox = getEl(\"bt_result\");\n    const workEndInput = getEl(\"bt_work_end_time\");\n    const returnTimeInput = getEl(\"bt_return_time\");\n    const returnPlaceInput = getEl(\"bt_return_place\");\n    const mealBreakfastCheck = getEl(\"bt_meal_breakfast\");\n    const mealLunchCheck = getEl(\"bt_meal_lunch\");\n    const mealDinnerCheck = getEl(\"bt_meal_dinner\");\n    const mealBreakfastOwner = getEl(\"bt_meal_breakfast_owner\");\n    const mealLunchOwner = getEl(\"bt_meal_lunch_owner\");\n    const mealDinnerOwner = getEl(\"bt_meal_dinner_owner\");\n    // ğŸ”¹ 08_domestic-trip-register.ts ì—ì„œ ì €ì¥í•´ ë‘” ê°’ ì‚¬ìš©\n    const baseDate = localStorage.getItem(\"settleTargetDate\") ?? \"\";\n    const baseReqName = localStorage.getItem(\"settleTargetReqName\") ?? \"\";\n    console.log(\"[ì •ì‚°] baseDate =\", baseDate, \"baseReqName =\", baseReqName);\n    // ğŸ”¹ ë¦¬ì…‹ ë²„íŠ¼\n    resetBtn.addEventListener(\"click\", () => {\n        workEndInput.value = \"\";\n        returnTimeInput.value = \"\";\n        returnPlaceInput.value = \"\";\n        mealBreakfastCheck.checked = false;\n        mealLunchCheck.checked = false;\n        mealDinnerCheck.checked = false;\n        mealBreakfastOwner.value = \"\";\n        mealLunchOwner.value = \"\";\n        mealDinnerOwner.value = \"\";\n        resultBox.textContent = \"ì •ì‚° ì…ë ¥ê°’ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.\";\n    });\n    // ğŸ”¹ ì •ì‚° ì €ì¥ ë²„íŠ¼\n    saveBtn.addEventListener(\"click\", async () => {\n        console.log(\"[ì •ì‚°] ì €ì¥ ë²„íŠ¼ í´ë¦­\");\n        const vehicleValue = getCheckedRadioValue(\"bt_vehicle\");\n        // ğŸš¨ ì¶œë°œì¼/ì´ë¦„ì´ ë¹„ì–´ ìˆìœ¼ë©´ ì–´ë–¤ ê±´ì§€ ëª¨ë¦„\n        const trip_date = localStorage.getItem(\"settleTargetDate\") ?? \"\";\n        const req_name = localStorage.getItem(\"settleTargetReqName\") ?? \"\";\n        if (!trip_date || !req_name) {\n            await ModalUtil.show({\n                type: \"alert\",\n                title: \"ì •ì‚° ëŒ€ìƒ ì—†ìŒ\",\n                message: \"ì–´ë–¤ ì¶œì¥ê±´ì— ëŒ€í•œ ì •ì‚°ì¸ì§€ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.\\në¨¼ì € [ì¶œì¥ë“±ë¡]ì—ì„œ ì €ì¥ í›„ [ì´ì–´ ì •ì‚° ì‘ì„±]ìœ¼ë¡œ ë“¤ì–´ì™€ ì£¼ì„¸ìš”.\",\n                showOk: true,\n                showCancel: false,\n            });\n            return;\n        }\n        // í•„ìˆ˜ê°’ ì²´í¬\n        if (!workEndInput.value) {\n            await ModalUtil.show({\n                type: \"alert\",\n                title: \"ì…ë ¥ í™•ì¸\",\n                message: \"ì—…ë¬´ ì¢…ë£Œì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\",\n                showOk: true,\n                showCancel: false,\n            });\n            return;\n        }\n        if (!returnTimeInput.value) {\n            await ModalUtil.show({\n                type: \"alert\",\n                title: \"ì…ë ¥ í™•ì¸\",\n                message: \"ë³µê·€ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\",\n                showOk: true,\n                showCancel: false,\n            });\n            return;\n        }\n        if (!returnPlaceInput.value.trim()) {\n            await ModalUtil.show({\n                type: \"alert\",\n                title: \"ì…ë ¥ í™•ì¸\",\n                message: \"ë³µê·€ì§€(íšŒì‚¬/ìíƒ)ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\",\n                showOk: true,\n                showCancel: false,\n            });\n            return;\n        }\n        if (!vehicleValue) {\n            await ModalUtil.show({\n                type: \"alert\",\n                title: \"ì…ë ¥ í™•ì¸\",\n                message: \"ì°¨ëŸ‰(ì •ì‚°ìš©)ì„ ì„ íƒí•´ì£¼ì„¸ìš”.\",\n                showOk: true,\n                showCancel: false,\n            });\n            return;\n        }\n        const settlement = {\n            work_end_time: workEndInput.value,\n            return_time: returnTimeInput.value,\n            return_place: returnPlaceInput.value.trim(),\n            vehicle: vehicleValue,\n            meals: {\n                breakfast: {\n                    checked: mealBreakfastCheck.checked,\n                    owner: mealBreakfastOwner.value,\n                },\n                lunch: {\n                    checked: mealLunchCheck.checked,\n                    owner: mealLunchOwner.value,\n                },\n                dinner: {\n                    checked: mealDinnerCheck.checked,\n                    owner: mealDinnerOwner.value,\n                },\n            },\n        };\n        // ğŸ§  ë°±ì—”ë“œ /settlement ëŠ” req_name, trip_date, detail_json ì „ì²´ë¥¼ ë°›ëŠ”ë‹¤.\n        // detail_json ì•ˆì— settlement ë¥¼ ë„£ì–´ì„œ ë³´ë‚´ì•¼ í•¨.\n        const detail_json = {\n            settlement,\n        };\n        try {\n            saveBtn.disabled = true;\n            resultBox.textContent = \"ì •ì‚° ë‚´ìš© ì €ì¥ ì¤‘...\";\n            const res = await fetch(`${API_BASE}/api/business-trip/settlement`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    req_name,\n                    trip_date,\n                    detail_json, // âœ… ë°±ì—”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” êµ¬ì¡°\n                }),\n            });\n            console.log(\"[ì •ì‚°] ì‘ë‹µ status =\", res.status);\n            if (!res.ok) {\n                const text = await res.text();\n                resultBox.textContent = `âŒ ì •ì‚° ì €ì¥ ì‹¤íŒ¨: HTTP ${res.status} ${text}`;\n                await ModalUtil.show({\n                    type: \"alert\",\n                    title: \"ì •ì‚° ì €ì¥ ì‹¤íŒ¨\",\n                    message: resultBox.textContent,\n                    showOk: true,\n                    showCancel: false,\n                });\n                return;\n            }\n            const data = await res.json().catch(() => null);\n            console.log(\"[ì •ì‚°] ì‘ë‹µ data =\", data);\n            resultBox.textContent = \"âœ… ì •ì‚° ì •ë³´ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\";\n            await ModalUtil.show({\n                type: \"alert\",\n                title: \"ì •ì‚° ì™„ë£Œ\",\n                message: \"ì •ì‚° ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\",\n                showOk: true,\n                showCancel: false,\n            });\n            // í•„ìš”í•˜ë©´ ì´ˆê¸°í™”\n            // resetBtn.click();\n            // ëŒ€ì‹œë³´ë“œ/ì¶œì¥ í˜„í™© ìƒˆë¡œê³ ì¹¨ìš©\n            window.dispatchEvent(new Event(\"trip-status-refresh\"));\n        }\n        catch (err) {\n            console.error(\"[ì •ì‚°] ì €ì¥ ì¤‘ ì˜¤ë¥˜:\", err);\n            resultBox.textContent = `âŒ ì •ì‚° ì €ì¥ ì¤‘ ì˜¤ë¥˜: ${err?.message ?? \"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜\"}`;\n            await ModalUtil.show({\n                type: \"alert\",\n                title: \"ì •ì‚° ì €ì¥ ì˜¤ë¥˜\",\n                message: resultBox.textContent,\n                showOk: true,\n                showCancel: false,\n            });\n        }\n        finally {\n            saveBtn.disabled = false;\n        }\n    });\n}\n","// TypeScript/workspace/10_domestic-trip-history.ts\nfunction getEl(id) {\n    const el = document.getElementById(id);\n    if (!el)\n        throw new Error(`element not found: #${id}`);\n    return el;\n}\nfunction formatYmd(isoDate) {\n    const d = typeof isoDate === \"string\" ? new Date(isoDate) : isoDate;\n    if (Number.isNaN(d.getTime()))\n        return \"-\";\n    const y = d.getFullYear();\n    const m = String(d.getMonth() + 1).padStart(2, \"0\");\n    const day = String(d.getDate()).padStart(2, \"0\");\n    return `${y}-${m}-${day}`;\n}\n// ğŸŒŸ ì •ì‚° ë‚´ì—­ ë³´ê¸° íŒ¨ë„ ì´ˆê¸°í™”\nexport function initDomesticTripHistoryPanel(API_BASE) {\n    const panel = document.getElementById(\"panel-êµ­ë‚´ì¶œì¥-ì •ì‚°ì„œë“±ë¡\");\n    if (!panel)\n        return;\n    const searchBtn = getEl(\"settle_search\");\n    // ì¤‘ë³µ ë°”ì¸ë”© ë°©ì§€\n    if (searchBtn._bound)\n        return;\n    searchBtn._bound = true;\n    const fromInput = getEl(\"settle_from\");\n    const toInput = getEl(\"settle_to\");\n    const resultMsg = getEl(\"settle_result_msg\");\n    const tbody = getEl(\"settle_result_tbody\");\n    // ê¸°ë³¸ ë‚ ì§œ: ì˜¤ëŠ˜\n    if (!fromInput.value || !toInput.value) {\n        const today = new Date();\n        const y = today.getFullYear();\n        const m = String(today.getMonth() + 1).padStart(2, \"0\");\n        const d = String(today.getDate()).padStart(2, \"0\");\n        const todayStr = `${y}-${m}-${d}`;\n        fromInput.value = todayStr;\n        toInput.value = todayStr;\n    }\n    // âœ… localStorage.user ì—ì„œ ë¡œê·¸ì¸í•œ ì‚¬ëŒì˜ name ê°€ì ¸ì˜¤ê¸°\n    function getLoginUserName() {\n        try {\n            const stored = localStorage.getItem(\"user\");\n            if (!stored)\n                return null;\n            const user = JSON.parse(stored);\n            return user?.name ?? null;\n        }\n        catch {\n            return null;\n        }\n    }\n    async function fetchHistory() {\n        const from = fromInput.value;\n        const to = toInput.value;\n        if (!from || !to) {\n            resultMsg.textContent = \"ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼ì„ ëª¨ë‘ ì„ íƒí•˜ì„¸ìš”.\";\n            return;\n        }\n        if (from > to) {\n            resultMsg.textContent = \"ì‹œì‘ì¼ì´ ì¢…ë£Œì¼ë³´ë‹¤ ëŠ¦ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\";\n            return;\n        }\n        // âœ… í•­ìƒ ë¡œê·¸ì¸í•œ ì‚¬ëŒ ì´ë¦„ìœ¼ë¡œë§Œ ì¡°íšŒ\n        const reqNameParam = getLoginUserName();\n        if (!reqNameParam) {\n            resultMsg.textContent = \"ë¡œê·¸ì¸ ì •ë³´ì—ì„œ ì‚¬ìš©ì ì´ë¦„ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\";\n            tbody.innerHTML = `\n        <tr>\n          <td colspan=\"7\" class=\"border px-2 py-3 text-center text-rose-500\">\n            ë¡œê·¸ì¸ ì •ë³´ê°€ ì—†ì–´ ì •ì‚° ë‚´ì—­ì„ ì¡°íšŒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n          </td>\n        </tr>\n      `;\n            return;\n        }\n        resultMsg.textContent = \"ì •ì‚° ë‚´ì—­ì„ ì¡°íšŒ ì¤‘ì…ë‹ˆë‹¤...\";\n        tbody.innerHTML = `\n      <tr>\n        <td colspan=\"7\" class=\"border px-2 py-3 text-center text-gray-400\">\n          ì¡°íšŒ ì¤‘...\n        </td>\n      </tr>\n    `;\n        const qs = new URLSearchParams();\n        qs.set(\"from\", from);\n        qs.set(\"to\", to);\n        qs.set(\"req_name\", reqNameParam); // ğŸ‘ˆ í•­ìƒ ë¡œê·¸ì¸ ì‚¬ìš©ì ì´ë¦„\n        try {\n            const res = await fetch(`${API_BASE}/api/business-trip/settlements-range?${qs.toString()}`, { method: \"GET\" });\n            if (!res.ok) {\n                const text = await res.text();\n                throw new Error(`HTTP ${res.status} / ${text}`);\n            }\n            const json = await res.json();\n            const rows = json?.data ?? [];\n            if (!rows.length) {\n                tbody.innerHTML = `\n          <tr>\n            <td colspan=\"7\" class=\"border px-2 py-3 text-center text-gray-400\">\n              ì¡°íšŒëœ ì •ì‚° ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.\n            </td>\n          </tr>\n        `;\n                resultMsg.textContent = \"ì¡°íšŒëœ ì •ì‚° ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.\";\n                return;\n            }\n            // ë Œë”ë§\n            tbody.innerHTML = \"\";\n            rows.forEach((row) => {\n                const r = row.detail_json?.register ?? {};\n                const s = row.detail_json?.settlement ?? {};\n                const dateStr = formatYmd(row.trip_date);\n                const name = row.req_name || \"-\";\n                const dest = r.destination || \"-\";\n                const depart = r.depart_time || \"-\";\n                const arrive = r.arrive_time || \"-\";\n                const workStart = r.work_start_time || \"-\";\n                const workEnd = s.work_end_time || \"-\";\n                const vehicle = s.vehicle || \"-\";\n                const meals = s.meals || {};\n                const mealStrs = [];\n                if (meals.breakfast?.checked) {\n                    mealStrs.push(`ì¡°ì‹(${meals.breakfast.owner === \"corp\" ? \"ë²•ì¸\" : \"ê°œì¸\"})`);\n                }\n                if (meals.lunch?.checked) {\n                    mealStrs.push(`ì¤‘ì‹(${meals.lunch.owner === \"corp\" ? \"ë²•ì¸\" : \"ê°œì¸\"})`);\n                }\n                if (meals.dinner?.checked) {\n                    mealStrs.push(`ì„ì‹(${meals.dinner.owner === \"corp\" ? \"ë²•ì¸\" : \"ê°œì¸\"})`);\n                }\n                const mealsText = mealStrs.length ? mealStrs.join(\", \") : \"-\";\n                const tr = document.createElement(\"tr\");\n                tr.innerHTML = `\n          <td class=\"border px-2 py-1 text-center\">${dateStr}</td>\n          <td class=\"border px-2 py-1 text-center\">${name}</td>\n          <td class=\"border px-2 py-1 text-center\">${dest}</td>\n          <td class=\"border px-2 py-1 text-center\">${depart} ~ ${arrive}</td>\n          <td class=\"border px-2 py-1 text-center\">${workStart} ~ ${workEnd}</td>\n          <td class=\"border px-2 py-1 text-center\">${vehicle}</td>\n          <td class=\"border px-2 py-1 text-center\">${mealsText}</td>\n        `;\n                tbody.appendChild(tr);\n            });\n            resultMsg.textContent = `ì´ ${rows.length}ê±´ì˜ ì •ì‚° ë‚´ì—­ì´ ì¡°íšŒë˜ì—ˆìŠµë‹ˆë‹¤.`;\n        }\n        catch (err) {\n            console.error(err);\n            resultMsg.textContent = `ì¡°íšŒ ì‹¤íŒ¨: ${err?.message ?? \"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜\"}`;\n            tbody.innerHTML = `\n        <tr>\n          <td colspan=\"7\" class=\"border px-2 py-3 text-center text-rose-500\">\n            ì¡°íšŒ ì‹¤íŒ¨: ${err?.message ?? \"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜\"}\n          </td>\n        </tr>\n      `;\n        }\n    }\n    // ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°\n    searchBtn.addEventListener(\"click\", () => {\n        fetchHistory();\n    });\n}\n","export const ModalUtil = {\n    el: null,\n    ensureElement() {\n        if (this.el)\n            return this.el;\n        const div = document.createElement(\"div\");\n        div.id = \"globalSimpleModal\";\n        div.className =\n            \"hidden fixed inset-0 z-[9999] flex items-center justify-center bg-black/50\";\n        div.innerHTML = `\n      <div id=\"modalBox\" class=\"bg-white w-[360px] rounded-2xl p-6 shadow-xl text-center\">\n        <div id=\"modalIcon\" class=\"text-5xl mb-4 select-none\"></div>\n        <h2 id=\"modalTitle\" class=\"text-xl font-bold mb-2\"></h2>\n        <p id=\"modalMessage\" class=\"text-sm text-gray-700 mb-6\"></p>\n        <div id=\"modalBtns\" class=\"flex justify-center gap-2\">\n          <button id=\"modalCancelBtn\"\n            class=\"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 hidden\">ì·¨ì†Œ</button>\n          <button id=\"modalOkBtn\"\n            class=\"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 hidden\">í™•ì¸</button>\n        </div>\n      </div>\n    `;\n        document.body.appendChild(div);\n        this.el = div;\n        return div;\n    },\n    setStyle(type) {\n        const el = this.ensureElement();\n        const iconEl = el.querySelector(\"#modalIcon\");\n        const titleEl = el.querySelector(\"#modalTitle\");\n        if (type === \"alert\") {\n            iconEl.textContent = \"â„¹ï¸\";\n            iconEl.className = \"text-5xl text-blue-600 mb-4\";\n            titleEl.className = \"text-xl font-bold mb-2 text-blue-700\";\n        }\n        else {\n            iconEl.textContent = \"âš ï¸\";\n            iconEl.className = \"text-5xl text-yellow-500 mb-4\";\n            titleEl.className = \"text-xl font-bold mb-2 text-yellow-700\";\n        }\n    },\n    /**\n     * âœ¨ ë‹¨ì¼ ëª¨ë‹¬ í˜¸ì¶œ\n     * - alert â†’ ì•„ë¬´ ê°’ ì—†ìŒ\n     * - warn â†’ boolean ë°˜í™˜\n     */\n    async show({ type = \"alert\", title = \"ì•Œë¦¼\", message = \"\", showOk = true, showCancel = false, }) {\n        const el = this.ensureElement();\n        const titleEl = el.querySelector(\"#modalTitle\");\n        const msgEl = el.querySelector(\"#modalMessage\");\n        const okBtn = el.querySelector(\"#modalOkBtn\");\n        const cancelBtn = el.querySelector(\"#modalCancelBtn\");\n        // ìŠ¤íƒ€ì¼\n        this.setStyle(type);\n        // ë‚´ìš©\n        titleEl.textContent = title;\n        msgEl.textContent = message;\n        // ë²„íŠ¼ í‘œì‹œ ì—¬ë¶€\n        okBtn.classList.toggle(\"hidden\", !showOk);\n        cancelBtn.classList.toggle(\"hidden\", !showCancel);\n        // í‘œì‹œ\n        el.classList.remove(\"hidden\");\n        // -----------------------\n        // alert ëª¨ë‹¬ì€ í™•ì¸ë§Œ í•„ìš”\n        // -----------------------\n        if (type === \"alert\") {\n            return new Promise((resolve) => {\n                const close = () => {\n                    this.hide();\n                    okBtn.removeEventListener(\"click\", close);\n                    resolve();\n                };\n                okBtn.addEventListener(\"click\", close);\n            });\n        }\n        // -----------------------\n        // warn ëª¨ë‹¬ì€ í™•ì¸/ì·¨ì†Œ í•„ìš”\n        // -----------------------\n        return new Promise((resolve) => {\n            const onOk = () => {\n                cleanup();\n                this.hide();\n                resolve(true);\n            };\n            const onCancel = () => {\n                cleanup();\n                this.hide();\n                resolve(false);\n            };\n            const cleanup = () => {\n                okBtn.removeEventListener(\"click\", onOk);\n                cancelBtn.removeEventListener(\"click\", onCancel);\n            };\n            okBtn.addEventListener(\"click\", onOk);\n            cancelBtn.addEventListener(\"click\", onCancel);\n        });\n    },\n    hide() {\n        const el = this.ensureElement();\n        el.classList.add(\"hidden\");\n    },\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// TypeScript/workspace/00_workspace.ts\nimport { initDashboardTripStatus } from \"./01_dashboard-trip-status\";\nimport { initTripApprovalPanel } from \"./02_trip-approval\";\nimport { initUserManagePanel } from \"./04_user-manage\";\nimport { initBusinessMasterPanel } from \"./05_business-master\";\nimport { initDomesticTripRegisterPanel } from \"./08_domestic-trip-register\";\nimport { initDomesticTripSettlementPanel } from \"./09_domestic-trip-settlement\";\nimport { initDomesticTripHistoryPanel } from \"./10_domestic-trip-history\";\nconst API_BASE = location.hostname === \"gwoun01.github.io\"\n    ? \"https://outwork.sel3.cloudtype.app\"\n    : \"http://127.0.0.1:5050\";\n// âœ… ë¡œê·¸ì¸í•  ë•Œ login.tsì—ì„œ ë„£ì–´ë‘” ê°’ ì‚¬ìš©\n//   localStorage.setItem(\"loginUserId\", data.id);\nfunction getLoginUserId() {\n    const id = localStorage.getItem(\"loginUserId\");\n    return id || \"ì‚¬ìš©ì\"; // ì—†ìœ¼ë©´ ê¸°ë³¸ í…ìŠ¤íŠ¸\n}\n/** localStorage.user ì—ì„œ ì „ì²´ ë¡œê·¸ì¸ ìœ ì € ì •ë³´ ê°€ì ¸ì˜¤ê¸° */\nfunction getLoginUser() {\n    const raw = localStorage.getItem(\"user\");\n    if (!raw)\n        return null;\n    try {\n        const obj = JSON.parse(raw);\n        return {\n            id: obj.id ?? \"\",\n            name: obj.name ?? \"\",\n            permissions: obj.permissions ?? null,\n        };\n    }\n    catch {\n        return null;\n    }\n}\n/** permissions ê°ì²´ì—ì„œ í•´ë‹¹ í‚¤ì˜ ê¶Œí•œê°’ ê°€ì ¸ì˜¤ê¸° (ì—†ìœ¼ë©´ \"NoAccess\") */\nfunction getPermValue(perms, key) {\n    if (!perms)\n        return \"NoAccess\";\n    const v = perms[key];\n    if (!v)\n        return \"NoAccess\";\n    return v;\n}\n/**\n * íŒ¨ë„ ì „í™˜(ì‚¬ì´ë“œ ë©”ë‰´ â†’ ë©”ì¸ íŒ¨ë„, ì œëª© ë°”ê¾¸ê¸°)\n */\nfunction initLocalTabNavigation() {\n    const navButtons = document.querySelectorAll(\".nav-btn\");\n    const panels = document.querySelectorAll('[id^=\"panel-\"]');\n    const titleEl = document.getElementById(\"wsTitle\");\n    function showPanel(id) {\n        // ëª¨ë“  íŒ¨ë„ ìˆ¨ê¸°ê³ \n        panels.forEach((p) => p.classList.add(\"hidden\"));\n        // ëŒ€ìƒ íŒ¨ë„ë§Œ ë³´ì´ê¸°\n        const target = document.getElementById(id);\n        if (target)\n            target.classList.remove(\"hidden\");\n        // ì‚¬ì´ë“œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ í† ê¸€\n        navButtons.forEach((btn) => {\n            const active = btn.dataset.panel === id;\n            btn.classList.toggle(\"bg-[#7ce92f]\", active);\n            btn.classList.toggle(\"text-[#000000]\", active);\n            btn.classList.toggle(\"font-bold\", active);\n        });\n        // ìƒë‹¨ ì œëª© ë³€ê²½\n        const curBtn = document.querySelector(`.nav-btn[data-panel=\"${id}\"]`);\n        if (curBtn && titleEl) {\n            titleEl.textContent = curBtn.textContent?.trim() ?? \"\";\n        }\n    }\n    // ê¸°ë³¸ì€ ëŒ€ì‹œë³´ë“œ\n    showPanel(\"panel-dashboard\");\n    return showPanel;\n}\n// ==============================================================\n// ğŸ”µ ë©”ì¸ ì´ˆê¸°í™”\n// ==============================================================\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n    console.debug(\"[INIT] workspace DOMContentLoaded\");\n    // 0) ë¡œê·¸ì¸ ìœ ì € / ê¶Œí•œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°\n    const loginUser = getLoginUser();\n    const perms = loginUser?.permissions ?? null;\n    const hasPermInfo = !!perms && Object.keys(perms).length > 0;\n    // ê¸°ë³¸ê°’: ê¶Œí•œ ì •ë³´ê°€ ì•„ì˜ˆ ì—†ìœ¼ë©´(ì˜›ë‚  ë°ì´í„°) ì¼ë‹¨ ì „ë¶€ í—ˆìš©\n    let canAdmin = true;\n    let canTripRegister = true;\n    let canTripHistory = true;\n    if (hasPermInfo) {\n        const tripApprove = getPermValue(perms, \"ì¶œì¥ìŠ¹ì¸\");\n        const tripManage = getPermValue(perms, \"ì¶œì¥ë‚´ì—­ê´€ë¦¬\");\n        const tripRegister = getPermValue(perms, \"ì¶œì¥ë“±ë¡\");\n        const tripHistory = getPermValue(perms, \"ì¶œì¥ë‚´ì—­\");\n        const userManage = getPermValue(perms, \"ì‚¬ìš©ìê´€ë¦¬\");\n        // âœ… ê´€ë¦¬ì ì „ìš©: ì¶œì¥ìŠ¹ì¸ ë˜ëŠ” ì¶œì¥ë‚´ì—­ê´€ë¦¬ ì¤‘ í•˜ë‚˜ë¼ë„ NoAccess ê°€ ì•„ë‹ˆë©´ ê´€ë¦¬ì\n        canAdmin =\n            tripApprove !== \"NoAccess\" || tripManage !== \"NoAccess\";\n        // âœ… êµ­ë‚´ì¶œì¥ â†’ ì¶œì¥ë“±ë¡\n        canTripRegister = tripRegister !== \"NoAccess\";\n        // âœ… êµ­ë‚´ì¶œì¥ â†’ ì¶œì¥ë‚´ì—­\n        canTripHistory = tripHistory !== \"NoAccess\";\n    }\n    // 1) ë¡œê·¸ì¸í•œ ì•„ì´ë”” í—¤ë”ì— í‘œì‹œ + ì•„ë°”íƒ€ í…ìŠ¤íŠ¸\n    const userId = getLoginUserId(); // ì˜ˆ) \"ê¶Œíƒì„ \"\n    const userNameEl = document.getElementById(\"userName\");\n    const avatarEl = document.getElementById(\"avatar\");\n    const logoutBtn = document.getElementById(\"logoutBtn\");\n    if (userNameEl) {\n        // ì´ë¦„ì´ ë”°ë¡œ ìˆìœ¼ë©´ ì´ë¦„, ì—†ìœ¼ë©´ ì•„ì´ë””\n        const displayName = loginUser?.name || userId;\n        userNameEl.textContent = displayName;\n    }\n    if (avatarEl) {\n        const base = loginUser?.name || userId;\n        avatarEl.textContent = base.slice(0, 2); // ì• 2ê¸€ì ì •ë„ë§Œ ë™ê·¸ë¼ë¯¸ ì•ˆì—\n    }\n    // 2) ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼\n    logoutBtn?.addEventListener(\"click\", async () => {\n        try {\n            // ì„¸ì…˜ ì¿ í‚¤ ì •ë¦¬ìš© (ë°±ì—”ë“œì— /api/logout ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ ê·¸ëƒ¥ ë„˜ì–´ê°)\n            await fetch(`${API_BASE}/api/logout`, {\n                method: \"POST\",\n                credentials: \"include\",\n            }).catch(() => { });\n        }\n        finally {\n            // ë¡œì»¬ ì €ì¥ëœ ë¡œê·¸ì¸ ì •ë³´ ì‚­ì œ\n            localStorage.removeItem(\"loginUserId\");\n            localStorage.removeItem(\"loginUserName\");\n            localStorage.removeItem(\"user\");\n            sessionStorage.clear();\n            // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™ (íŒŒì¼ ì´ë¦„ì— ë§ê²Œ ìˆ˜ì •)\n            window.location.href = \"index.html\";\n        }\n    });\n    // 3) íŒ¨ë„ ë„¤ë¹„ê²Œì´ì…˜ ì„¸íŒ…\n    const showPanel = initLocalTabNavigation();\n    // 4) ëŒ€ì‹œë³´ë“œ(ì¶œì¥ì í˜„í™© + KPI) ì´ˆê¸°í™” â†’ ì„œë²„ì™€ ì—°ê²°\n    initDashboardTripStatus(API_BASE);\n    // 5) ì‚¬ì´ë“œë°”ì—ì„œ íŒ¨ë„ ì´ë™\n    const sidebarButtons = document.querySelectorAll(\"#sidebar [data-panel]\");\n    // ğŸ”’ ê´€ë¦¬ì ì „ìš© ê·¸ë£¹ ìì²´ë¥¼ ìˆ¨ê¸°ê¸° (ë²„íŠ¼/ë‚´ìš© ë‘˜ ë‹¤)\n    if (!canAdmin && hasPermInfo) {\n        const adminBtn = document.getElementById(\"btnAdminGroup\");\n        const adminContent = document.getElementById(\"adminGroupContent\");\n        adminBtn?.classList.add(\"hidden\");\n        adminContent?.classList.add(\"hidden\");\n    }\n    sidebarButtons.forEach((btn) => {\n        btn.addEventListener(\"click\", async () => {\n            const id = btn.dataset.panel;\n            if (!id)\n                return;\n            // ==========================\n            // ğŸ”’ ê¶Œí•œ ì²´í¬\n            // ==========================\n            if (hasPermInfo) {\n                // 1) ê´€ë¦¬ì ì „ìš© íŒ¨ë„ë“¤\n                if (id === \"panel-ì¶œì¥ìŠ¹ì¸\" ||\n                    id === \"panel-ì¶œì¥ë‚´ì—­-ê´€ë¦¬\" ||\n                    id === \"panel-ì‚¬ìš©ì-ê´€ë¦¬\") {\n                    if (!canAdmin) {\n                        alert(\"ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.\");\n                        return;\n                    }\n                }\n                // 2) êµ­ë‚´ì¶œì¥ - ì¶œì¥ë“±ë¡\n                if (id === \"panel-êµ­ë‚´ì¶œì¥-ì¶œì¥ë“±ë¡\" && !canTripRegister) {\n                    alert(\"ì¶œì¥ë“±ë¡ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\");\n                    return;\n                }\n                // 3) êµ­ë‚´ì¶œì¥ - ì¶œì¥ë‚´ì—­(ì •ì‚° ë‚´ì—­)\n                if (id === \"panel-êµ­ë‚´ì¶œì¥-ì •ì‚°ì„œë“±ë¡\" && !canTripHistory) {\n                    alert(\"ì¶œì¥ë‚´ì—­ ì¡°íšŒ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\");\n                    return;\n                }\n            }\n            // ==========================\n            // ğŸ” íŒ¨ë„ ì „í™˜ + ì´ˆê¸°í™”\n            // ==========================\n            showPanel(id);\n            // ëŒ€ì‹œë³´ë“œ íƒ­ í´ë¦­ â†’ í•­ìƒ ìµœì‹  ë°ì´í„°ë¡œ ìƒˆë¡œê³ ì¹¨\n            if (id === \"panel-dashboard\") {\n                window.dispatchEvent(new Event(\"trip-status-refresh\"));\n            }\n            // ì‚¬ìš©ì ê´€ë¦¬ íƒ­ (ê´€ë¦¬ì ì „ìš©)\n            if (id === \"panel-ì‚¬ìš©ì-ê´€ë¦¬\") {\n                await initUserManagePanel(API_BASE);\n                console.log(\"[INIT] ì‚¬ìš©ì-ê´€ë¦¬ init ì™„ë£Œ\");\n            }\n            // ê´€ë¦¬ì ì „ìš© - ì¶œì¥ ìŠ¹ì¸\n            if (id === \"panel-ì¶œì¥ìŠ¹ì¸\") {\n                await initTripApprovalPanel(API_BASE);\n                console.log(\"[INIT] ì¶œì¥ìŠ¹ì¸ íŒ¨ë„ init ì™„ë£Œ\");\n            }\n            // ê´€ë¦¬ì ì „ìš© - ì¶œì¥ì—…ë¬´ ê´€ë¦¬\n            if (id === \"panel-ì¶œì¥ì—…ë¬´-ê´€ë¦¬\") {\n                await initBusinessMasterPanel(API_BASE);\n                console.log(\"[INIT] ì¶œì¥ì—…ë¬´ê´€ë¦¬ íŒ¨ë„ init ì™„ë£Œ\");\n            }\n            // êµ­ë‚´ì¶œì¥ - ì¶œì¥ë“±ë¡ íŒ¨ë„ â†’ ë“±ë¡ + ì •ì‚° íŒ¨ë„ ì´ˆê¸°í™”\n            if (id === \"panel-êµ­ë‚´ì¶œì¥-ì¶œì¥ë“±ë¡\") {\n                await initDomesticTripRegisterPanel(API_BASE);\n                await initDomesticTripSettlementPanel(API_BASE);\n                console.log(\"[INIT] êµ­ë‚´ì¶œì¥-ì¶œì¥ë“±ë¡ & ì •ì‚° íŒ¨ë„ init ì™„ë£Œ\");\n            }\n            // êµ­ë‚´ì¶œì¥ - ì¶œì¥ë‚´ì—­(ì •ì‚° ë‚´ì—­ ì¡°íšŒ)\n            if (id === \"panel-êµ­ë‚´ì¶œì¥-ì •ì‚°ì„œë“±ë¡\") {\n                await initDomesticTripHistoryPanel(API_BASE);\n                console.log(\"[INIT] êµ­ë‚´ì¶œì¥-ì •ì‚° ë‚´ì—­ ì¡°íšŒ íŒ¨ë„ init ì™„ë£Œ\");\n            }\n            if (id === \"panel-dashboard\") {\n                window.dispatchEvent(new Event(\"trip-status-refresh\"));\n                window.dispatchEvent(new Event(\"vacation-status-refresh\")); // âœ… ì¶”ê°€\n            }\n        });\n    });\n    // 6) ì²˜ìŒ ì§„ì…: ëŒ€ì‹œë³´ë“œ íŒ¨ë„ + ì˜¤ëŠ˜ ë°ì´í„° ë¡œë”©\n    showPanel(\"panel-dashboard\");\n    window.dispatchEvent(new Event(\"trip-status-refresh\"));\n    console.debug(\"[INIT] workspace ì´ˆê¸°í™” ì™„ë£Œ\");\n});\n"],"names":[],"ignoreList":[],"sourceRoot":""}